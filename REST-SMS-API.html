<!DOCTYPE html>
<!-- saved from url=(0070)file:///C:/Users/rocket/Documents/_Dev/shortlink/REST%20SMS%20API.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>REST SMS API</title>
<link rel="stylesheet" href="./REST-SMS-API_files/base.css">
<script type="text/javascript" src="./REST-SMS-API_files/MathJax.js.téléchargement"></script><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style>
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body><div id="MathJax_Message" style="display: none;"></div><div id="MathJax_Message" style="display: none;"></div><div class="container"><h1 id="table-of-content">Table of content</h1>

<p></p><div class="toc">
<ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-started">Getting started</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#introduction">Introduction</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#base-url">Base URL</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#content-type-accept-header">Content-Type &amp; Accept header</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#authorization">Authorization</a></li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#send-sms">Send SMS</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#send-sms-response">Send SMS response</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-delivery-reports">Getting delivery reports</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-sms-logs">Getting SMS logs</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#number-context">Number Context</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-codes">Response codes</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#statuses-groups">Statuses groups</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#statuses">Statuses</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#errors-groups">Errors Groups</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#gsm-error-codes">GSM Error Codes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#send-sms-1">Send SMS</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#single-textual-message">Single textual message</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format">Response format</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#additional-examples">Additional examples</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#single-textual-message-to-one-destination">Single textual message to one destination</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#single-textual-message-to-multiple-destinations">Single textual message to multiple destinations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#multiple-textual-message">Multiple textual message</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples-1">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-1">Response format</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#additional-examples-1">Additional examples</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#multiple-textual-messages-to-multiple-destinations">Multiple textual messages to multiple destinations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#single-binary-message">Single binary message</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples-2">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-2">Response format</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#additional-examples-2">Additional examples</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#single-binary-message-to-one-destination">Single binary message to one destination</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#single-binary-message-to-multiple-destinations">Single binary message to multiple destinations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#multiple-binary-message">Multiple binary message</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples-3">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-3">Response format</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#additional-examples-3">Additional examples</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#multiple-binary-messages-to-multiple-destinations">Multiple binary messages to multiple destinations</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#delivery-reports">Delivery reports</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples-4">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-4">Response format</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#additional-examples-4">Additional examples</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-reports-without-any-query-parameter">Getting reports without any query parameter</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-the-initial-two-delivery-reports">Getting the initial two delivery reports</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#sent-messages-logs">Sent messages logs</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples-5">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-5">Response format</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#additional-examples-5">Additional examples</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-logs-without-any-query-parameter">Getting logs without any query parameter</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-logs-with-from-to-and-limit-as-filters">Getting logs with from, to and limit as filters</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-logs-with-multiple-bulkids-as-filters">Getting logs with multiple bulkIds as filters</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-logs-with-date-range-and-general-status-as-filters">Getting logs with date range and general status as filters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#advanced-sms-methods">Advanced SMS methods</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#fully-featured-textual-message">Fully featured textual message</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples-6">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-6">Response format</a></li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#get-account-balance">Get account balance</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-7">Response format</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#receive-sms">Receive SMS</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#pull-received-messages">Pull received messages</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples-7">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-8">Response format</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#additional-examples-6">Additional examples</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-unread-received-messages-without-any-query-parameter">Getting unread received messages without any query parameter</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-the-initial-two-unread-received-messages">Getting the initial two unread received messages</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#received-messages-logs">Received messages logs</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples-8">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-9">Response format</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#additional-examples-7">Additional examples</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-logs-without-any-query-parameter-1">Getting logs without any query parameter</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-logs-with-keyword-and-to-as-filters">Getting logs with keyword and to as filters</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#getting-messages-without-keyword">Getting messages without keyword</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#number-context-1">Number Context</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#synchronous-request">Synchronous request</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples-9">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-10">Response format</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#additional-examples-8">Additional examples</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#number-context-lookup-single-phone-number">Number Context lookup - Single phone number</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#number-context-lookup-multiple-phone-numbers">Number Context lookup - Multiple phone numbers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#asynchronous-request">Asynchronous request</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#examples-10">Examples</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#response-format-11">Response format</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#additional-examples-9">Additional examples</a><ul>
<li><a href="http://sms-api.github.io/RestSmsApi.html#number-context-lookup-single-phone-number-1">Number Context lookup - Single phone number</a></li>
<li><a href="http://sms-api.github.io/RestSmsApi.html#number-context-lookup-multiple-phone-numbers-1">Number Context lookup - Multiple phone numbers</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p></p>



<h1 id="getting-started">Getting started</h1>



<h2 id="introduction">Introduction</h2>

<p><em>This page will help you get started with SMS API. You’ll be up and running in a jiffy!</em></p>

<p><strong>Welcome to SMS API documentation!</strong></p>

<p>This document will provide instructions on how to quickly integrate SMS messaging services into various solutions by using HTTP application programming interface (HTTP API). The HTTP API can be used for sending SMS messages, collecting delivery reports, making Number Context (number validation) requests and receiving inbound SMS messages sent from mobile phones.</p>

<p>API is based on REST standards, enabling you to use your browser for accessing URLs. In order to interact with our API, any HTTP client in any programming language can be used.</p>



<h3 id="base-url">Base URL</h3>

<p>Submit all requests to the base URL. All the requests are submitted thorough HTTP <code>POST</code> or <code>GET</code> method. </p>

<p><strong>Base URL:</strong> <code>http://api.shortlink.ma</code> </p>



<h3 id="content-type-accept-header">Content-Type &amp; Accept header</h3>

<p>SMS API supports <code>JSON</code> and <code>XML</code> Content-Types and Accept criteria that should be specified in the header. If the Content-Type  is not specified you will receive a General error. Depending which Accept type is chosen in the deader for the request, the same one will be applied in the response.</p>

<p><strong>Content-Type:</strong>  <code>application/json</code> or  <code>application/xml</code>.</p>

<p><strong>Accept header:</strong>  <code>application/json</code> or  <code>application/xml</code>.</p>



<h3 id="authorization">Authorization</h3>

<p>We support basic authorization using a username and password with Base64 encoding variation <a href="http://www.ietf.org/rfc/rfc2045.txt">RFC2045-MIME</a>.</p>

<p>The authorization header is constructed as follows:</p>

<ol>
<li>Username and password are combined into a string <code>username:password</code>.</li>
<li>The resulting string is encoded using the <a href="http://www.ietf.org/rfc/rfc2045.txt">RFC2045-MIME</a> variant of Base64.</li>
<li>The authorization method and a space, like this: <code>"Basic "</code>, are put before the encoded string.</li>
</ol>

<blockquote>
  <p>Example:</p>
  
  <p>Username: <code>Aladdin</code> <br>
  Password: <code>open sesame</code></p>
  
  <p>Base64 encoded string: <code>QWxhZGRpbjpvcGVuIHNlc2FtZQ==</code></p>
  
  <p>Authorization header: <code>Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</code></p>
</blockquote>



<h2 id="send-sms">Send SMS</h2>

<p><em>Send your first SMS using API!</em></p>

<p>In a few simple steps, we will explain how to send an SMS using HTTP API. </p>

<p>Your username and password has to be encoded in <code>base64</code> like this:</p>

<ul>
<li>Combine the username and password into a string <code>username:password</code>.</li>
<li>Encode the resulting string using <a href="http://www.base64encode.org/">Base64 encoder</a>.</li>
</ul>

<blockquote>
  <p><strong>Example:</strong></p>
  
  <p>Username: <code>Aladdin</code> <br>
  Password: <code>open sesame</code></p>
  
  <p>String: <code>Alladin:open sesame</code> <br>
  Base64 encoded string: <code>QWxhZGRpbjpvcGVuIHNlc2FtZQ==</code></p>
</blockquote>

<p>The message will be sent only to a valid phone number (numbers), written in <strong>international format</strong> e.g. <code>41793026727</code>.</p>

<blockquote>
  <p><strong>Phone numbers format</strong></p>
  
  <p>We strongly recommend using the <a href="http://en.wikipedia.org/wiki/E.164">E.164 number formatting</a>. E.164 numbers are internationally standardized to a fifteen digit maximum length. Phone numbers are usually prefixed with <em>+</em> (plus sign), followed by a <em>country code</em>, <em>network code</em> and the <em>subscriber number</em>. Phone numbers that are not  E.164 formatted may work, depending on the handset or network.</p>
</blockquote>

<p>Now, you are ready to create a HTTP POST request to <code>http://api.shortlink.ma/restapi/sms/1/text/single</code></p>

<p>Your <strong>Header</strong> should contain <em>authorization</em> and <em>content type</em>:</p>

<ul>
<li>Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</li>
<li>Content-Type: application/json</li>
</ul>

<p><strong>Request body</strong> contains the message you wish to send with <code>from</code>, <code>to</code> and <code>text</code> parameters.</p>

<p>Full <strong>JSON request</strong> is shown below:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
   "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
   "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"My first SMS"</span>
</span>}</span></code></pre>

<p>That’s it! You should receive an SMS in a few moments.</p>



<h2 id="send-sms-response">Send SMS response</h2>

<p><em>Handle SMS API response.</em></p>

<p>After the “Send SMS” HTTP request was submitted to the SMS API, you will get a response containing some useful information. If everything went well, it should provide an <strong><code>200 OK</code></strong> response with message details in the response body.</p>

<p>Here is an example of a request for sending a single SMS:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
   "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
   "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"My first SMS"</span>
</span>}</span></code></pre>

<p>And the appropriate response is shown below:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"2250be2d4219-3af1-78856-aabe-1362af1edfd2"</span>
      </span>}
   ]
</span>}</span></code></pre>

<ul>
<li><strong>messages</strong> is an array of all SMS messages that were sent in the last request. In our case, it contains only one message</li>
<li><strong>to</strong> is a phone number which you have sent the SMS message to</li>
<li>Each message successfully submitted to the platform is uniquely identified with the <strong>messageId</strong>. Furthermore, the Message ID can be used for checking Delivery status or Sent messages logs</li>
<li><strong>smsCount</strong> is the number of parts the message was split into</li>
<li><strong>status</strong> is the object that further describes the state of sent message. </li>
</ul>



<h2 id="getting-delivery-reports">Getting delivery reports</h2>

<p><em>Check if your messages were successfully delivered.</em></p>

<p>After you have sent a couple of messages, you are able to check if they were successfully delivered by making this request:</p>

<p><code>GET http://api.shortlink.ma/restapi/sms/1/reports</code></p>

<p>Available <strong>query parameters</strong> are:</p>

<ul>
<li><strong>bulkId:</strong> The ID uniquely identifies the sent SMS request. This filter will enable you to receive delivery reports for all the messages using just one request.</li>
<li><strong>messageId:</strong> The ID that uniquely identifies the message sent.</li>
<li><strong>limit:</strong> The maximum number of delivery reports you want to get.</li>
</ul>

<p>As a response, you will get a collection of unread delivery reports. </p>

<blockquote>
  <p><strong>Important:</strong></p>
  
  <p>Delivery reports can only be retrieved one time. Once you retrieve a delivery report, you will not be able to get the same report again by using this endpoint.</p>
</blockquote>

<p>Here is the JSON request example for <strong>getting reports without any query parameter:</strong></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/reports</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p>Below you can see the response to delivery reports request:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"80664c0c-e1ca-414d-806a-5caf146463df"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"bcfb828b-7df9-4e7b-8715-f34f5c61271a"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"38598111"</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:51:43.123+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:51:43.127+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>},
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"08fe4407-c48f-4d4b-a2f4-9ff583c985b8"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"12db39c3-7822-4e72-a3ec-c87442c0ffc5"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"385981112"</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:50:22.221+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:50:22.232+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p>In a response, you will receive an array of <code>results</code> which contain:</p>

<ul>
<li><code>to</code> represents the recipient’s phone number. This way you can connect a delivery report to a phone number.</li>
<li><code>bulkId</code> and <code>messageId</code>], the ids that uniquely identify the request and the messages sent.</li>
<li><code>sentAt</code> and <code>doneAt</code> </li>
<li><code>smsCount</code> represents number of messages</li>
<li><code>price</code> object with <code>pricePerMessage</code> and <code>currency</code> parameters  </li>
<li><code>status</code> and <code>error</code> objects</li>
</ul>

<blockquote>
  <p><strong>Note:</strong></p>
  
  <p>If you try making this same request again, you will get an empty set because all delivery reports were read:</p>
</blockquote>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[]
</span>}</span></code></pre>

<p>If you send a mass number of messages but you are only interested in seeing the delivery report for only one, just set a query parameter in the request.</p>

<p>Append <code>?messageId=ff4804ef-6ab6-4abd-984d-ab3b1387e852</code> on the request url, and you will get delivery report only for that message.</p>

<p>Besides the <strong>messageId</strong>, you can use <strong>bulkId</strong> or simply set the <strong>limit</strong> on the number of reports you wish to retrieve. Here is the JSON request example for getting the reports with query parameter:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/reports?messageId=ff4804ef-6ab6-4abd-984d-ab3b1387e852</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p>The following JSON will be given as a response:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"8c20f086-d82b-48cc-b2b3-3ca5f7aca9fb"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"ff4804ef-6ab6-4abd-984d-ab3b1387e852"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"385981178"</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:58:20.323+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:58:20.337+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p>As you can see, that message was successfully delivered without any error.</p>

<p>The opposite to one time delivery reports are <strong>logs</strong> which can be used to see the history for all the messages that you have sent. In the next step of this tutorial, we are going to show you how to get logs using our API.</p>

<p>Additionally, you are able to setup an end-point on your callback server so you can receive a <strong>Delivery reports on Notify URL</strong>.</p>



<h2 id="getting-sms-logs">Getting SMS logs</h2>

<p><em>Your sent SMS message history.</em></p>

<p>Logs with sent SMS message history can be requested for all messages by using a single request: <code>GET http://api.shortlink.ma/restapi/sms/1/logs</code>. <br>
Unlike delivery reports, these logs can be requested as many times as you want.</p>

<p>Let’s see what happens when you request all of your logs, without any query parameter:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/logs</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p>As a response, you will get the following result:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"bafdeb3d-719b-4cce-8762-54d47b40f3c5"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"07e03aae-fabc-44ad-b1ce-222e14094d70"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:41:11.833+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:41:11.843+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">mccmnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>},
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"06479ba3-5977-47f6-9346-fee0369bc76b"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"1f21d8d7-f306-4f53-9f6e-eddfce9849ea"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:40:31.773+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:40:31.787+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">mccmnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p>Logs carry similar information as delivery reports, with some added fields.</p>

<blockquote>
  <p><strong>Important:</strong></p>
  
  <p><strong>SMS logs are available for the last 48 hours!</strong></p>
</blockquote>

<p>Since this logs example was for all the messages you have sent over the platform for the last <strong>48 hours</strong>, you might need some filters to search through them. The filters you can use are:</p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>from</em></td>
  <td>String</td>
  <td>Sender address.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>Destination address.</td>
</tr>
<tr>
  <td><em>bulkId</em></td>
  <td>String[]</td>
  <td>Bulk ID for which logs are requested.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String[]</td>
  <td>Message ID for which logs are requested.</td>
</tr>
<tr>
  <td><em>generalStatus</em></td>
  <td>String</td>
  <td>Sent SMS status.</td>
</tr>
<tr>
  <td><em>sentSince</em></td>
  <td>Date</td>
  <td>Lower limit on date and time of sending SMS.</td>
</tr>
<tr>
  <td><em>sentUntil</em></td>
  <td>Date</td>
  <td>Upper limit on date and time of sending SMS.</td>
</tr>
<tr>
  <td><em>limit</em></td>
  <td>int</td>
  <td>Max number of messages in returned logs.</td>
</tr>
<tr>
  <td><em>mcc</em></td>
  <td>String</td>
  <td>Mobile country code.</td>
</tr>
<tr>
  <td><em>mnc</em></td>
  <td>String</td>
  <td>Mobile network code.</td>
</tr>
</tbody></table>


<p>Now, let’s try getting <strong>logs with “from”, “to” and “limit” as filters</strong>:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/logs?from=InfoSMS&amp;to=41793026727&amp;limit=1</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p>The response will be:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"82d1d36e-e4fb-4194-8b93-caeb053bd327"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"fc0cbfb8-7a72-40da-a76d-e2c2d9400835"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:42:05.390+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:42:05.390+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">mccmnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"REJECTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">6</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"REJECTED_NETWORK"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Network is forbidden"</span></span>,
            "<span class="hljs-attribute">action</span>":<span class="hljs-value"><span class="hljs-string">"Contact account manager"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>



<h2 id="number-context">Number Context</h2>

<p><em>The API which ensures mobile number validity!</em></p>

<p>Number Context helps you keep your mobile numbers database up to date.</p>

<p>Mobile subscribers often change numbers, go into roaming and change providers while retaining their original phone number. Knowing which mobile numbers are in use and available, or which network your client is currently using can greatly improve accuracy and cost effectiveness for many types of businesses.</p>

<p>With Number Context, you can determine:</p>

<ul>
<li>which numbers are currently active</li>
<li>is the mobile number in roaming</li>
<li>is the mobile number ported</li>
<li>the optimal route for messages and voice</li>
<li>the type of number (e.g. land-line, machine-to-machine, mobile <br>
etc.)</li>
</ul>

<p>The following example shows how you can get Number Context information using our API:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/query</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic dXNlcm5hbWU6cGFzc3dvcmQ=</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">to</span>":<span class="hljs-value">[<span class="hljs-string">"41793026727"</span>]
</span>}</span></code></pre>

<p>The <code>to</code> parameter is a list of all the numbers you want to check. </p>

<p>Here is your result:</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">ncResults</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">mccMnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">imsi</span>":<span class="hljs-value"><span class="hljs-string">"228012120181810"</span></span>,
         "<span class="hljs-attribute">originalNetwork</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">networkPrefix</span>":<span class="hljs-value"><span class="hljs-string">"79"</span></span>,
            "<span class="hljs-attribute">countryPrefix</span>":<span class="hljs-value"><span class="hljs-string">"41"</span>
         </span>}</span>,
         "<span class="hljs-attribute">ported</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">roaming</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>



<h2 id="response-codes">Response codes</h2>

<p><em>SMS API statuses and GSM codes.</em></p>

<p>Check the list of response codes for statuses and GSM errors which could be received.</p>

<p><strong>Status object example:</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
   "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
   "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
   "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
   "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
</span>}</code></pre>



<h3 id="statuses-groups">Statuses groups</h3>

<table>
<thead>
<tr>
  <th>GroupId</th>
  <th>GroupName</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td>0</td>
  <td>ACCEPTED</td>
  <td>Message is accepted.</td>
</tr>
<tr>
  <td>1</td>
  <td>PENDING</td>
  <td>Message is in pending status.</td>
</tr>
<tr>
  <td>2</td>
  <td>UNDELIVERABLE</td>
  <td>Message is undeliverable.</td>
</tr>
<tr>
  <td>3</td>
  <td>DELIVERED</td>
  <td>Message is delivered.</td>
</tr>
<tr>
  <td>4</td>
  <td>EXPIRED</td>
  <td>Message is expired.</td>
</tr>
<tr>
  <td>5</td>
  <td>REJECTED</td>
  <td>Message is rejected.</td>
</tr>
</tbody></table>




<h3 id="statuses">Statuses</h3>

<table>
<thead>
<tr>
  <th>Id</th>
  <th>GroupId</th>
  <th>Name</th>
  <th>Description</th>
  <th>Action</th>
</tr>
</thead>
<tbody><tr>
  <td>1</td>
  <td>1</td>
  <td>PENDING_TIME_VIOLATION</td>
  <td>Time window violation</td>
  <td>NULL</td>
</tr>
<tr>
  <td>2</td>
  <td>3</td>
  <td>DELIVERED_TO_OPERATOR</td>
  <td>Message delivered to operator</td>
  <td>NULL</td>
</tr>
<tr>
  <td>3</td>
  <td>1</td>
  <td>PENDING_WAITING_DELIVERY</td>
  <td>Message sent, waiting for delivery report</td>
  <td>NULL</td>
</tr>
<tr>
  <td>4</td>
  <td>2</td>
  <td>UNDELIVERABLE_REJECTED_OPERATOR</td>
  <td>Message rejected by operator</td>
  <td>NULL</td>
</tr>
<tr>
  <td>5</td>
  <td>3</td>
  <td>DELIVERED_TO_HANDSET</td>
  <td>Message delivered to handset</td>
  <td>NULL</td>
</tr>
<tr>
  <td>6</td>
  <td>5</td>
  <td>REJECTED_NETWORK</td>
  <td>Network is forbidden</td>
  <td>Contact account manager</td>
</tr>
<tr>
  <td>7</td>
  <td>1</td>
  <td>PENDING_ENROUTE</td>
  <td>Message sent to next instance</td>
  <td>NULL</td>
</tr>
<tr>
  <td>8</td>
  <td>5</td>
  <td>REJECTED_PREFIX_MISSING</td>
  <td>Number prefix missing</td>
  <td>NULL</td>
</tr>
<tr>
  <td>9</td>
  <td>2</td>
  <td>UNDELIVERABLE_NOT_DELIVERED</td>
  <td>Message sent not delivered</td>
  <td>NULL</td>
</tr>
<tr>
  <td>10</td>
  <td>5</td>
  <td>REJECTED_DND</td>
  <td>Destination on DND list</td>
  <td>NULL</td>
</tr>
<tr>
  <td>11</td>
  <td>5</td>
  <td>REJECTED_SOURCE</td>
  <td>Invalid Source address</td>
  <td>NULL</td>
</tr>
<tr>
  <td>12</td>
  <td>5</td>
  <td>REJECTED_NOT_ENOUGH_CREDITS</td>
  <td>Not enough credits</td>
  <td>NULL</td>
</tr>
<tr>
  <td>13</td>
  <td>5</td>
  <td>REJECTED_SENDER</td>
  <td>By Sender</td>
  <td>Remove sender from blacklist</td>
</tr>
<tr>
  <td>14</td>
  <td>5</td>
  <td>REJECTED_DESTINATION</td>
  <td>By Destination</td>
  <td>Remove destination from blacklist</td>
</tr>
<tr>
  <td>15</td>
  <td>4</td>
  <td>EXPIRED_EXPIRED</td>
  <td>Message expired</td>
  <td>NULL</td>
</tr>
<tr>
  <td>16</td>
  <td>5</td>
  <td>REJECTED_NOT_REACHABLE</td>
  <td>Network not reachable</td>
  <td>NULL</td>
</tr>
<tr>
  <td>17</td>
  <td>5</td>
  <td>REJECTED_PREPAID_PACKAGE_EXPIRED</td>
  <td>Prepaid package expired</td>
  <td>Top-Up your account to extend the validty period</td>
</tr>
<tr>
  <td>18</td>
  <td>5</td>
  <td>REJECTED_DESTINATION_NOT_REGISTERED</td>
  <td>Destination not registered</td>
  <td>NULL</td>
</tr>
<tr>
  <td>19</td>
  <td>5</td>
  <td>REJECTED_ROUTE_NOT_AVAILABLE</td>
  <td>Route not available</td>
  <td>Contact account manager</td>
</tr>
<tr>
  <td>20</td>
  <td>5</td>
  <td>REJECTED_FLOODING_FILTER</td>
  <td>Rejected flooding</td>
  <td>STOP SPAMMING</td>
</tr>
<tr>
  <td>21</td>
  <td>5</td>
  <td>REJECTED_SYSTEM_ERROR</td>
  <td>System error</td>
  <td>NULL</td>
</tr>
<tr>
  <td>22</td>
  <td>4</td>
  <td>EXPIRED_UNKNOWN</td>
  <td>Unknown Reason</td>
  <td>NULL</td>
</tr>
<tr>
  <td>23</td>
  <td>5</td>
  <td>REJECTED_DUPLICATE_MESSAGE_ID</td>
  <td>Rejected duplicate message ID</td>
  <td>NULL</td>
</tr>
<tr>
  <td>24</td>
  <td>5</td>
  <td>REJECTED_INVALID_UDH</td>
  <td>Rejected invalid UDH</td>
  <td>NULL</td>
</tr>
<tr>
  <td>25</td>
  <td>5</td>
  <td>REJECTED_MESSAGE_TOO_LONG</td>
  <td>Rejected message too long</td>
  <td>NULL</td>
</tr>
</tbody></table>


<p><strong>Error object example:</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
   "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
   "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
   "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
   "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
   "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
</span>}</code></pre>



<h3 id="errors-groups">Errors Groups</h3>

<table>
<thead>
<tr>
  <th>GroupId</th>
  <th>GroupName</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td>0</td>
  <td>OK</td>
  <td>No error.</td>
</tr>
<tr>
  <td>1</td>
  <td>HANDSET_ERRORS</td>
  <td>Handset error occurred.</td>
</tr>
<tr>
  <td>2</td>
  <td>USER_ERRORS</td>
  <td>User error occurred.</td>
</tr>
<tr>
  <td>3</td>
  <td>OPERATOR_ERRORS</td>
  <td>Operator error occurred.</td>
</tr>
</tbody></table>




<h3 id="gsm-error-codes">GSM Error Codes</h3>

<table>
<thead>
<tr>
  <th>Id</th>
  <th>Short description</th>
  <th>Is permanent</th>
</tr>
</thead>
<tbody><tr>
  <td>0</td>
  <td>NO_ERROR</td>
  <td>NULL</td>
</tr>
<tr>
  <td>1</td>
  <td>EC_UNKNOWN_SUBSCRIBER</td>
  <td>1</td>
</tr>
<tr>
  <td>5</td>
  <td>EC_UNIDENTIFIED_SUBSCRIBER</td>
  <td>0</td>
</tr>
<tr>
  <td>6</td>
  <td>EC_ABSENT_SUBSCRIBER_SM</td>
  <td>0</td>
</tr>
<tr>
  <td>9</td>
  <td>EC_ILLEGAL_SUBSCRIBER</td>
  <td>1</td>
</tr>
<tr>
  <td>10</td>
  <td>EC_BEARER_SERVICE_NOT_PROVISIONED</td>
  <td>0</td>
</tr>
<tr>
  <td>11</td>
  <td>EC_TELESERVICE_NOT_PROVISIONED</td>
  <td>1</td>
</tr>
<tr>
  <td>12</td>
  <td>EC_ILLEGAL_EQUIPMENT</td>
  <td>1</td>
</tr>
<tr>
  <td>13</td>
  <td>EC_CALL_BARRED</td>
  <td>0</td>
</tr>
<tr>
  <td>20</td>
  <td>EC_SS_INCOMPATIBILITY</td>
  <td>0</td>
</tr>
<tr>
  <td>21</td>
  <td>EC_FACILITY_NOT_SUPPORTED</td>
  <td>0</td>
</tr>
<tr>
  <td>27</td>
  <td>EC_ABSENT_SUBSCRIBER</td>
  <td>0</td>
</tr>
<tr>
  <td>31</td>
  <td>EC_SUBSCRIBER_BUSY_FOR_MT_SMS</td>
  <td>0</td>
</tr>
<tr>
  <td>32</td>
  <td>EC_SM_DELIVERY_FAILURE</td>
  <td>0</td>
</tr>
<tr>
  <td>33</td>
  <td>EC_MESSAGE_WAITING_LIST_FULL</td>
  <td>0</td>
</tr>
<tr>
  <td>34</td>
  <td>EC_SYSTEM_FAILURE</td>
  <td>0</td>
</tr>
<tr>
  <td>35</td>
  <td>EC_DATA_MISSING</td>
  <td>1</td>
</tr>
<tr>
  <td>36</td>
  <td>EC_UNEXPECTED_DATA_VALUE</td>
  <td>1</td>
</tr>
<tr>
  <td>51</td>
  <td>EC_RESOURCE_LIMITATION</td>
  <td>0</td>
</tr>
<tr>
  <td>71</td>
  <td>EC_UNKNOWN_ALPHABET</td>
  <td>1</td>
</tr>
<tr>
  <td>72</td>
  <td>EC_USSD_BUSY</td>
  <td>1</td>
</tr>
<tr>
  <td>255</td>
  <td>EC_UNKNOWN_ERROR</td>
  <td>1</td>
</tr>
<tr>
  <td>256</td>
  <td>EC_SM_DF_memoryCapacityExceeded</td>
  <td>0</td>
</tr>
<tr>
  <td>257</td>
  <td>EC_SM_DF_equipmentProtocolError</td>
  <td>0</td>
</tr>
<tr>
  <td>258</td>
  <td>EC_SM_DF_equipmentNotSM_Equipped</td>
  <td>0</td>
</tr>
<tr>
  <td>259</td>
  <td>EC_SM_DF_unknownServiceCentre</td>
  <td>0</td>
</tr>
<tr>
  <td>260</td>
  <td>EC_SM_DF_sc_Congestion</td>
  <td>0</td>
</tr>
<tr>
  <td>261</td>
  <td>EC_SM_DF_invalidSME_Address</td>
  <td>0</td>
</tr>
<tr>
  <td>262</td>
  <td>EC_SM_DF_subscriberNotSC_Subscriber</td>
  <td>0</td>
</tr>
<tr>
  <td>500</td>
  <td>EC_PROVIDER_GENERAL_ERROR</td>
  <td>0</td>
</tr>
<tr>
  <td>502</td>
  <td>EC_NO_RESPONSE</td>
  <td>0</td>
</tr>
<tr>
  <td>503</td>
  <td>EC_SERVICE_COMPLETION_FAILURE</td>
  <td>0</td>
</tr>
<tr>
  <td>504</td>
  <td>EC_UNEXPECTED_RESPONSE_FROM_PEER</td>
  <td>0</td>
</tr>
<tr>
  <td>507</td>
  <td>EC_MISTYPED_PARAMETER</td>
  <td>0</td>
</tr>
<tr>
  <td>508</td>
  <td>EC_NOT_SUPPORTED_SERVICE</td>
  <td>0</td>
</tr>
<tr>
  <td>509</td>
  <td>EC_DUPLICATED_INVOKE_ID</td>
  <td>0</td>
</tr>
<tr>
  <td>511</td>
  <td>EC_INITIATING_RELEASE</td>
  <td>0</td>
</tr>
<tr>
  <td>1024</td>
  <td>EC_OR_appContextNotSupported</td>
  <td>0</td>
</tr>
<tr>
  <td>1025</td>
  <td>EC_OR_invalidDestinationReference</td>
  <td>0</td>
</tr>
<tr>
  <td>1026</td>
  <td>EC_OR_invalidOriginatingReference</td>
  <td>0</td>
</tr>
<tr>
  <td>1027</td>
  <td>EC_OR_encapsulatedAC_NotSupported</td>
  <td>0</td>
</tr>
<tr>
  <td>1028</td>
  <td>EC_OR_transportProtectionNotAdequate</td>
  <td>0</td>
</tr>
<tr>
  <td>1029</td>
  <td>EC_OR_noReasonGiven</td>
  <td>0</td>
</tr>
<tr>
  <td>1030</td>
  <td>EC_OR_potentialVersionIncompatibility</td>
  <td>0</td>
</tr>
<tr>
  <td>1031</td>
  <td>EC_OR_remoteNodeNotReachable</td>
  <td>0</td>
</tr>
<tr>
  <td>1152</td>
  <td>EC_NNR_noTranslationForAnAddressOfSuchNature</td>
  <td>0</td>
</tr>
<tr>
  <td>1153</td>
  <td>EC_NNR_noTranslationForThisSpecificAddress</td>
  <td>0</td>
</tr>
<tr>
  <td>1154</td>
  <td>EC_NNR_subsystemCongestion</td>
  <td>0</td>
</tr>
<tr>
  <td>1155</td>
  <td>EC_NNR_subsystemFailure</td>
  <td>0</td>
</tr>
<tr>
  <td>1156</td>
  <td>EC_NNR_unequippedUser</td>
  <td>0</td>
</tr>
<tr>
  <td>1157</td>
  <td>EC_NNR_MTPfailure</td>
  <td>0</td>
</tr>
<tr>
  <td>1158</td>
  <td>EC_NNR_networkCongestion</td>
  <td>0</td>
</tr>
<tr>
  <td>1159</td>
  <td>EC_NNR_unqualified</td>
  <td>0</td>
</tr>
<tr>
  <td>1160</td>
  <td>EC_NNR_errorInMessageTransportXUDT</td>
  <td>0</td>
</tr>
<tr>
  <td>1161</td>
  <td>EC_NNR_errorInLocalProcessingXUDT</td>
  <td>0</td>
</tr>
<tr>
  <td>1162</td>
  <td>EC_NNR_destinationCannotPerformReassemblyXUDT</td>
  <td>0</td>
</tr>
<tr>
  <td>1163</td>
  <td>EC_NNR_SCCPfailure</td>
  <td>0</td>
</tr>
<tr>
  <td>1164</td>
  <td>EC_NNR_hopCounterViolation</td>
  <td>0</td>
</tr>
<tr>
  <td>1165</td>
  <td>EC_NNR_segmentationNotSupported</td>
  <td>0</td>
</tr>
<tr>
  <td>1166</td>
  <td>EC_NNR_segmentationFailure</td>
  <td>0</td>
</tr>
<tr>
  <td>1281</td>
  <td>EC_UA_userSpecificReason</td>
  <td>0</td>
</tr>
<tr>
  <td>1282</td>
  <td>EC_UA_userResourceLimitation</td>
  <td>0</td>
</tr>
<tr>
  <td>1283</td>
  <td>EC_UA_resourceUnavailable</td>
  <td>0</td>
</tr>
<tr>
  <td>1284</td>
  <td>EC_UA_applicationProcedureCancellation</td>
  <td>0</td>
</tr>
<tr>
  <td>1536</td>
  <td>EC_PA_providerMalfunction</td>
  <td>0</td>
</tr>
<tr>
  <td>1537</td>
  <td>EC_PA_supportingDialogOrTransactionRealeased</td>
  <td>0</td>
</tr>
<tr>
  <td>1538</td>
  <td>EC_PA_ressourceLimitation</td>
  <td>0</td>
</tr>
<tr>
  <td>1539</td>
  <td>EC_PA_maintenanceActivity</td>
  <td>0</td>
</tr>
<tr>
  <td>1540</td>
  <td>EC_PA_versionIncompatibility</td>
  <td>0</td>
</tr>
<tr>
  <td>1541</td>
  <td>EC_PA_abnormalMapDialog</td>
  <td>0</td>
</tr>
<tr>
  <td>1792</td>
  <td>EC_NC_abnormalEventDetectedByPeer</td>
  <td>0</td>
</tr>
<tr>
  <td>1793</td>
  <td>EC_NC_responseRejectedByPeer</td>
  <td>0</td>
</tr>
<tr>
  <td>1794</td>
  <td>EC_NC_abnormalEventReceivedFromPeer</td>
  <td>0</td>
</tr>
<tr>
  <td>1795</td>
  <td>EC_NC_messageCannotBeDeliveredToPeer</td>
  <td>0</td>
</tr>
<tr>
  <td>1796</td>
  <td>EC_NC_providerOutOfInvoke</td>
  <td>0</td>
</tr>
<tr>
  <td>2048</td>
  <td>EC_TIME_OUT</td>
  <td>0</td>
</tr>
<tr>
  <td>2049</td>
  <td>EC_IMSI_BLACKLISTED</td>
  <td>1</td>
</tr>
<tr>
  <td>2050</td>
  <td>EC_DEST_ADDRESS_BLACKLISTED</td>
  <td>1</td>
</tr>
<tr>
  <td>2051</td>
  <td>EC_InvalidMscAddress</td>
  <td>0</td>
</tr>
<tr>
  <td>4096</td>
  <td>EC_invalidPduFurmat</td>
  <td>1</td>
</tr>
<tr>
  <td>4097</td>
  <td>EC_NotSubmittedToGMSC</td>
  <td>1</td>
</tr>
<tr>
  <td>4100</td>
  <td>EC_Cancelled</td>
  <td>1</td>
</tr>
<tr>
  <td>4101</td>
  <td>EC_ValidityExpired</td>
  <td>1</td>
</tr>
<tr>
  <td>4102</td>
  <td>EC_NotSubmittedToSmppChannel</td>
  <td>0</td>
</tr>
</tbody></table>


<hr>



<h1 id="send-sms-1">Send SMS</h1>



<h2 id="single-textual-message">Single textual message</h2>

<p><em>This method allows you to send a single textual message to one or more destination addresses.</em></p>

<p><strong>Definition</strong></p>

<p><code>http://api.shortlink.ma/restapi/sms/1/text/single</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>from</em></td>
  <td>String</td>
  <td>Represents sender ID and it can be alphanumeric or numeric. <em>Alphanumeric</em> sender ID length should be between 3 and 11 characters (Example: <code>CompanyName</code>). <em>Numeric</em> sender ID length should be between 3 and 14 characters.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String[]</td>
  <td><strong>Required.</strong> Array of message destination addresses. If you want to send a <a href="http://sms-api.github.io/single-textual-message-to-one-destination">message to one destination</a>, a single String is supported instead of an Array. Destination addresses must be in international format (Example: <code>41793026727</code>).</td>
</tr>
<tr>
  <td><em>text</em></td>
  <td>String</td>
  <td>Text of the message that will be sent.</td>
</tr>
</tbody></table>




<h3 id="examples">Examples</h3>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
   "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
   "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span>
</span>}</span></code></pre>

<p><strong>Result Format</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"2250be2d4219-3af1-78856-aabe-1362af1edfd2"</span>
      </span>}
   ]
</span>}</code></pre>



<h3 id="response-format">Response format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code> and the message will be sent.</p>

<p>If you try to send message without authorization, you will receive an error <code>401 Unauthorized</code>.</p>

<p><strong>SMSResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the request. Bulk ID will be received only when you send a message to <a href="http://sms-api.github.io/single-textual-message-to-multiple-destinations">more than one destination address</a>.</td>
</tr>
<tr>
  <td><em>messages</em></td>
  <td><a href="http://sms-api.github.io/smsresponsedetails">SMSResponseDetails[]</a></td>
  <td>Array of sent message objects, one object per every message.</td>
</tr>
</tbody></table>


<p><strong>SMSResponseDetails</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The message destination address.</td>
</tr>
<tr>
  <td><em>status</em></td>
  <td><a href="http://sms-api.github.io/status">Status</a></td>
  <td>Indicates whether the message is successfully sent, not sent, delivered, not delivered, waiting for delivery or any other possible status.</td>
</tr>
<tr>
  <td><em>smsCount</em></td>
  <td>int</td>
  <td>The number of sent message segments.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the message sent.</td>
</tr>
</tbody></table>


<p><strong>Status</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Status group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Status group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Status ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Status name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the status.</td>
</tr>
<tr>
  <td><em>action</em></td>
  <td>String</td>
  <td>Action that should be taken to eliminate the error.</td>
</tr>
</tbody></table>


<blockquote>
  <p><strong>Long SMS:</strong></p>
  
  <p>Maximum length for one message is 160 characters for GSM7 standard or 70 characters Unicode encoded messages. If you send text which exceeds the maximum number of supported characters for one message, the sent message will be segmented and charged accordingly. One Long SMS that consists of two SMS counts as two SMS.</p>
</blockquote>



<h3 id="additional-examples">Additional examples</h3>



<h4 id="single-textual-message-to-one-destination">Single textual message to one destination</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
   "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
   "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span>
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">request</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Test SMS.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">request</span>&gt;</span></span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X POST \
 -<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Content-Type: application/json'</span> \
</span> -<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> \
</span> -<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> \
</span> -<span class="ruby">d <span class="hljs-string">'{  
</span></span>   "from":"InfoSMS",
   "to":"41793026727",
   "text":"Test SMS."
}' http://api.shortlink.ma/restapi/sms/1/text/single</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/text/single'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_POST);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'content-type'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-variable">$request</span>-&gt;setBody(<span class="hljs-string">'{  
   "from":"InfoSMS",
   "to":"41793026727",
   "text":"Test SMS."
}'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">require <span class="hljs-comment">'uri'</span>
require <span class="hljs-comment">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/single"</span>)

http = Net::HTTP.<span class="hljs-keyword">new</span>(url.host, url.port)
http.use_ssl = <span class="hljs-literal">true</span>
http.verify_mode = OpenSSL::SSL::VERIFY_NONE

<span class="hljs-built_in">request</span> = Net::HTTP::Post.<span class="hljs-keyword">new</span>(url)
<span class="hljs-built_in">request</span>[<span class="hljs-string">"authorization"</span>] = <span class="hljs-comment">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"content-type"</span>] = <span class="hljs-comment">'application/json'</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"accept"</span>] = <span class="hljs-comment">'application/json'</span>

<span class="hljs-built_in">request</span>.body = <span class="hljs-string">"{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">",\"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">",   \"</span>text\<span class="hljs-string">":\"</span>Test SMS.\<span class="hljs-string">"}"</span>

<span class="hljs-built_in">response</span> = http.<span class="hljs-built_in">request</span>(<span class="hljs-built_in">request</span>)
puts <span class="hljs-built_in">response</span>.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk">conn = http.client.httpConnection(<span class="hljs-comment">"api.shortlink.ma"</span>)

payload = <span class="hljs-comment">"{\"</span>from\<span class="hljs-comment">":\"</span><span class="hljs-class">InfoSMS</span>\<span class="hljs-comment">",\"</span>to\<span class="hljs-comment">":\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">",\"</span>text\<span class="hljs-comment">":\"</span><span class="hljs-class">Test</span> <span class="hljs-class">SMS</span>.\<span class="hljs-comment">"}"</span>

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-comment">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'content-type'</span>: <span class="hljs-comment">"application/json"</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-comment">"application/json"</span>
    }

conn.request(<span class="hljs-comment">"POST"</span>, <span class="hljs-comment">"/restapi/sms/1/text/single"</span>, payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode(<span class="hljs-comment">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs vbnet">HttpResponse&lt;<span class="hljs-built_in">String</span>&gt; response = Unirest.post(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/single"</span>)
  .header(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  .header(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>)
  .header(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  .body(<span class="hljs-string">"{\"</span><span class="hljs-keyword">from</span>\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">",\"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">",\"</span><span class="hljs-keyword">text</span>\<span class="hljs-string">":\"</span>Test SMS.\<span class="hljs-string">"}"</span>)
  .asString();</code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/single"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.POST);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
<span class="hljs-built_in">request</span>.AddParameter(<span class="hljs-string">"application/json"</span>, <span class="hljs-string">"{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">",\"</span>text\<span class="hljs-string">":\"</span>Test SMS.\<span class="hljs-string">"}"</span>, ParameterType.RequestBody);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"from"</span>: <span class="hljs-string">"InfoSMS"</span>,
  <span class="hljs-string">"to"</span>: <span class="hljs-string">"41793026727"</span>,
  <span class="hljs-string">"text"</span>: <span class="hljs-string">"Test SMS."</span>
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/single"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"Queue/Accepted"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"2250be2d4219-3af1-78856-aabe-1362af1edfd2"</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>2250be2d4219-3af1-78856-aabe-1362af1edfd2<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSResponse</span>&gt;</span></span></code></pre>



<h4 id="single-textual-message-to-multiple-destinations">Single textual message to multiple destinations</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json  </span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
   "<span class="hljs-attribute">to</span>":<span class="hljs-value">[  
      <span class="hljs-string">"41793026727"</span>,
      <span class="hljs-string">"41793026834"</span>
   ]</span>,
   "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span>
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">request</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026834<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Test SMS.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">request</span>&gt;</span></span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs scilab">curl -X POST 
 -H <span class="hljs-string">'Content-Type: application/json'</span> 
 -H <span class="hljs-string">'Accept: application/json'</span>
 -H <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> 
 -d <span class="hljs-string">'{  
   "</span>from<span class="hljs-string">":"</span>InfoSMS<span class="hljs-string">",
   "</span>to<span class="hljs-string">":[  
      "</span><span class="hljs-number">41793026727</span><span class="hljs-string">",
      "</span><span class="hljs-number">41793026834</span><span class="hljs-string">"
   ],
   "</span>text<span class="hljs-string">":"</span>Test <span class="hljs-transposed_variable">SMS.</span><span class="hljs-string">"
}'</span> http:<span class="hljs-comment">//api.shortlink.ma/restapi/sms/1/text/single</span></code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/text/single'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_POST);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'content-type'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-variable">$request</span>-&gt;setBody(<span class="hljs-string">'{  
   "from":"InfoSMS",
   "to":[  
      "41793026727",
      "41793026834"
   ],
   "text":"Test SMS."
}'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">require <span class="hljs-comment">'uri'</span>
require <span class="hljs-comment">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/single"</span>)

http = Net::HTTP.<span class="hljs-keyword">new</span>(url.host, url.port)
http.use_ssl = <span class="hljs-literal">true</span>
http.verify_mode = OpenSSL::SSL::VERIFY_NONE

<span class="hljs-built_in">request</span> = Net::HTTP::Post.<span class="hljs-keyword">new</span>(url)
<span class="hljs-built_in">request</span>[<span class="hljs-string">"authorization"</span>] = <span class="hljs-comment">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"content-type"</span>] = <span class="hljs-comment">'application/json'</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"accept"</span>] = <span class="hljs-comment">'application/json'</span>

<span class="hljs-built_in">request</span>.body = <span class="hljs-string">"{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">",\"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">",      \"</span><span class="hljs-number">41793026834</span>\<span class="hljs-string">"],\"</span>text\<span class="hljs-string">":\"</span>Test SMS.\<span class="hljs-string">"}"</span>

<span class="hljs-built_in">response</span> = http.<span class="hljs-built_in">request</span>(<span class="hljs-built_in">request</span>)
puts <span class="hljs-built_in">response</span>.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk">import http.client

conn = http.client.httpConnection(<span class="hljs-comment">"api.shortlink.ma"</span>)

payload = <span class="hljs-comment">"{\"</span>from\<span class="hljs-comment">":\"</span><span class="hljs-class">InfoSMS</span>\<span class="hljs-comment">",\"</span>to\<span class="hljs-comment">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">", \"</span><span class="hljs-number">41793026834</span>\<span class="hljs-comment">"],\"</span>text\<span class="hljs-comment">":\"</span><span class="hljs-class">Test</span> <span class="hljs-class">SMS</span>.\<span class="hljs-comment">"}"</span>

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-comment">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'content-type'</span>: <span class="hljs-comment">"application/json"</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-comment">"application/json"</span>
    }

conn.request(<span class="hljs-comment">"POST"</span>, <span class="hljs-comment">"/restapi/sms/1/text/single"</span>, payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode(<span class="hljs-comment">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs vbnet">HttpResponse&lt;<span class="hljs-built_in">String</span>&gt; response = Unirest.post(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/single"</span>)
  .header(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  .header(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>)
  .header(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  .body(<span class="hljs-string">"{\"</span><span class="hljs-keyword">from</span>\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">",\"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">",     \"</span><span class="hljs-number">41793026834</span>\<span class="hljs-string">"],\"</span><span class="hljs-keyword">text</span>\<span class="hljs-string">":\"</span>Test SMS.\<span class="hljs-string">"}"</span>)
  .asString();</code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/single"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.POST);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
<span class="hljs-built_in">request</span>.AddParameter(<span class="hljs-string">"application/json"</span>, <span class="hljs-string">"{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[  \"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">",\"</span><span class="hljs-number">41793026834</span>\<span class="hljs-string">"],\"</span>text\<span class="hljs-string">":\"</span>Test SMS.\<span class="hljs-string">"}"</span>, ParameterType.RequestBody);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"from"</span>: <span class="hljs-string">"InfoSMS"</span>,
  <span class="hljs-string">"to"</span>: [
    <span class="hljs-string">"41793026727"</span>,
    <span class="hljs-string">"41793026834"</span>
  ],
  <span class="hljs-string">"text"</span>: <span class="hljs-string">"Test SMS."</span>
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/single"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"f5c4322c-10e7-a41e-5528-34fa0b032134"</span></span>,
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"4a54f0242f19-b832-1c39-a7e7a2095f351ed2"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026834"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"9404a69cef19-7a31-ba39-92ace76a5f351ed2"</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>f5c4322c-10e7-a41e-5528-34fa0b032134<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>2250be2d4219-3af1-78856-aabe-1362af1edfd2<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026834<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>9404a69cef19-7a31-ba39-92ace76a5f351ed2<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSResponse</span>&gt;</span></span></code></pre>



<h2 id="multiple-textual-message">Multiple textual message</h2>

<p><em>This method allows you to send multiple textual messages to one or more destination addresses.</em></p>

<p><strong>Definition</strong> <br>
<code>http://api.shortlink.ma/restapi/sms/1/text/multi</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td>messages</td>
  <td>SMSTextualData[]</td>
  <td>Messages that you want to send.</td>
</tr>
</tbody></table>


<p><strong>SMSMultiTextualData</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>from</em></td>
  <td>String</td>
  <td>Represents sender ID and it can be alphanumeric or numeric. <em>Alphanumeric</em> sender ID length should be between 3 and 11 characters (Example: <code>CompanyName</code>). <em>Numeric</em> sender ID length should be between 3 and 14 characters.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String[]</td>
  <td><strong>Required.</strong> Array of message destination addresses. If you want to send a <a href="http://sms-api.github.io/single-textual-message-to-one-destination">message to one destination</a>, a single String is supported instead of an Array. Destination addresses must be in international format (Example: <code>41793026727</code>).</td>
</tr>
<tr>
  <td><em>text</em></td>
  <td>String</td>
  <td>Text of the message that will be sent.</td>
</tr>
</tbody></table>




<h3 id="examples-1">Examples</h3>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/multi</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value">[  
            <span class="hljs-string">"41793026727"</span>,
            <span class="hljs-string">"41793026731"</span>
         ]</span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"May the Force be with you!"</span>
      </span>},
      {  
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"41793026700"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026785"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire."</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><strong>Result Format</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"5028e2d42f19-42f1-4656-351e-a42c191e5fd2"</span></span>,
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"4242f196ba50-a356-2f91-831c4aa55f351ed2"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026785"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">2</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5f35f87a2f19-a141-43a4-91cd81b85f8c689"</span>
      </span>}
   ]
</span>}</code></pre>



<h3 id="response-format-1">Response format</h3>

<p>If successful, response header HTTP status code will be <code>200 OK</code> and the message will be sent.</p>

<p>If you try to send message without authorization, you will receive an error <code>401 Unauthorized</code>.</p>

<p><strong>SMSResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the request. Bulk ID will be received only when you send a message to <a href="http://sms-api.github.io/multiple-textual-messages-to-multiple-destinations">more than one destination address</a>.</td>
</tr>
<tr>
  <td><em>messages</em></td>
  <td>SMSResponseDetails[]</td>
  <td>Array of sent message objects, one object per every message.</td>
</tr>
</tbody></table>


<p><strong>SMSResponseDetails</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The message destination address.</td>
</tr>
<tr>
  <td><em>status</em></td>
  <td>Status</td>
  <td>Indicates whether the message is successfully sent, not sent, delivered, not delivered, waiting for delivery or any other possible status.</td>
</tr>
<tr>
  <td><em>smsCount</em></td>
  <td>int</td>
  <td>The number of sent message segments.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the message sent.</td>
</tr>
</tbody></table>


<p><strong>Status</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Status group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Status group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Status ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Status name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the status.</td>
</tr>
<tr>
  <td><em>action</em></td>
  <td>String</td>
  <td>Action that should be taken to eliminate the error.</td>
</tr>
</tbody></table>


<blockquote>
  <p><strong>Long SMS:</strong></p>
  
  <p>Maximum length for one message is 160 characters for GSM7 standard or 70 characters Unicode encoded messages. If you send text which exceeds the maximum number of supported characters for one message, the sent message will be segmented and charged accordingly. One Long SMS that consists of two SMS counts as two SMS.</p>
</blockquote>



<h3 id="additional-examples-1">Additional examples</h3>



<h4 id="multiple-textual-messages-to-multiple-destinations">Multiple textual messages to multiple destinations</h4>

<p><strong>Request:</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/multi</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value">[  
            <span class="hljs-string">"41793026727"</span>,
            <span class="hljs-string">"41793026731"</span>
         ]</span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"May the Force be with you!"</span>
      </span>},
      {  
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"41793026700"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026785"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire."</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/multi</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="livecodeserver">&lt;request&gt;
   &lt;messages&gt;
      &lt;messages&gt;
         &lt;<span class="hljs-built_in">from</span>&gt;InfoSMS&lt;/<span class="hljs-built_in">from</span>&gt;
         &lt;<span class="hljs-built_in">to</span>&gt;
            &lt;<span class="hljs-built_in">to</span>&gt;<span class="hljs-number">41793026727</span>&lt;/<span class="hljs-built_in">to</span>&gt;
            &lt;<span class="hljs-built_in">to</span>&gt;<span class="hljs-number">41793026731</span>&lt;/<span class="hljs-built_in">to</span>&gt;
         &lt;/<span class="hljs-built_in">to</span>&gt;
         &lt;<span class="hljs-keyword">text</span>&gt;May <span class="hljs-operator">the</span> Force be <span class="hljs-operator">with</span> you!&lt;/<span class="hljs-keyword">text</span>&gt;
      &lt;/messages&gt;
      &lt;messages&gt;
         &lt;<span class="hljs-built_in">from</span>&gt;<span class="hljs-number">41793026700</span>&lt;/<span class="hljs-built_in">from</span>&gt;
         &lt;<span class="hljs-built_in">to</span>&gt;
            &lt;<span class="hljs-built_in">to</span>&gt;<span class="hljs-number">41793026785</span>&lt;/<span class="hljs-built_in">to</span>&gt;
         &lt;/<span class="hljs-built_in">to</span>&gt;
         &lt;<span class="hljs-keyword">text</span>&gt;A <span class="hljs-keyword">long</span> <span class="hljs-built_in">time</span> ago, <span class="hljs-operator">in</span> <span class="hljs-operator">a</span> galaxy far, far away... It is <span class="hljs-operator">a</span> period <span class="hljs-operator">of</span> civil war. Rebel spaceships, striking <span class="hljs-built_in">from</span> <span class="hljs-operator">a</span> hidden base, have won their <span class="hljs-keyword">first</span> victory against <span class="hljs-operator">the</span> evil Galactic Empire.&lt;/<span class="hljs-keyword">text</span>&gt;
      &lt;/messages&gt;
   &lt;/messages&gt;
&lt;/request&gt;</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs scilab">curl -X POST \
 -H <span class="hljs-string">'Content-Type: application/json'</span> \
 -H <span class="hljs-string">'Accept: application/json'</span> \
 -H <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> \
 -d <span class="hljs-string">'{  
   "</span>messages<span class="hljs-string">":[  
      {  
         "</span>from<span class="hljs-string">":"</span>InfoSMS<span class="hljs-string">",
         "</span>to<span class="hljs-string">":[  
            "</span><span class="hljs-number">41793026727</span><span class="hljs-string">",
            "</span><span class="hljs-number">41793026731</span><span class="hljs-string">"
         ],
         "</span>text<span class="hljs-string">":"</span>May the Force be with you!<span class="hljs-string">"
      },
      {  
         "</span>from<span class="hljs-string">":"</span><span class="hljs-number">41793026700</span><span class="hljs-string">",
         "</span>to<span class="hljs-string">":"</span><span class="hljs-number">41793026785</span><span class="hljs-string">",
         "</span>text<span class="hljs-string">":"</span>A long time ago, in a galaxy far, far <span class="hljs-transposed_variable">away...</span> It is a period of civil <span class="hljs-transposed_variable">war.</span> Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic <span class="hljs-transposed_variable">Empire.</span><span class="hljs-string">"
      }
   ]
}'</span> http:<span class="hljs-comment">//api.shortlink.ma/restapi/sms/1/text/multi</span></code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/text/multi'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_POST);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>,
  <span class="hljs-string">'content-type'</span> =&gt; <span class="hljs-string">'application/json'</span>
));

<span class="hljs-variable">$request</span>-&gt;setBody(<span class="hljs-string">'{  
   "messages":[  
      {  
         "from":"InfoSMS",
         "to":[  
            "41793026727",
            "41793026731"
         ],
         "text":"May the Force be with you!"
      },
      {  
         "from":"41793026700",
         "to":"41793026785",
         "text":"A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire."
      }
   ]
}'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs vbnet">require <span class="hljs-comment">'uri'</span>
require <span class="hljs-comment">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/multi"</span>)

http = Net::HTTP.<span class="hljs-keyword">new</span>(url.host, url.port)
http.use_ssl = <span class="hljs-literal">true</span>
http.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Post.<span class="hljs-keyword">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-comment">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"content-type"</span>] = <span class="hljs-comment">'application/json'</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-comment">'application/json'</span>

request.body = <span class="hljs-string">"{\"</span>messages\<span class="hljs-string">":[{\"</span><span class="hljs-keyword">from</span>\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">",\"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-number">41793026731</span>\<span class="hljs-string">"], \"</span><span class="hljs-keyword">text</span>\<span class="hljs-string">":\"</span>May the Force be <span class="hljs-keyword">with</span> you!\<span class="hljs-string">"}, {\"</span><span class="hljs-keyword">from</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026700</span>\<span class="hljs-string">",\"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026785</span>\<span class="hljs-string">", \"</span><span class="hljs-keyword">text</span>\<span class="hljs-string">":\"</span>A <span class="hljs-built_in">long</span> time ago, <span class="hljs-keyword">in</span> a galaxy far, far away... It <span class="hljs-keyword">is</span> a period <span class="hljs-keyword">of</span> civil war. Rebel spaceships, striking <span class="hljs-keyword">from</span> a hidden base, have won their first victory against the evil Galactic Empire.\<span class="hljs-string">"}]}"</span>

response = http.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs tex">import http.client

conn = http.client.httpConnection("api.shortlink.ma")

payload = "<span class="hljs-special">{</span><span class="hljs-command">\"</span>messages<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>InfoSMS<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-command">\"</span>41793026727<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>41793026731<span class="hljs-command">\"</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>text<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>May the Force be with you!<span class="hljs-command">\"</span><span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026700<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026785<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>text<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span><span class="hljs-special">}</span>"

headers = <span class="hljs-special">{</span>
    'authorization': "Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==",
    'content-type': "application/json",
    'accept': "application/json"
    <span class="hljs-special">}</span>

conn.request("POST", "/restapi/sms/1/text/multi", payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode("utf-8"))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs vbnet">HttpResponse&lt;<span class="hljs-built_in">String</span>&gt; response = Unirest.post(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/multi"</span>)
  .header(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  .header(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>)
  .header(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  .body(<span class="hljs-string">"{\"</span>messages\<span class="hljs-string">":[{\"</span><span class="hljs-keyword">from</span>\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-number">41793026731</span>\<span class="hljs-string">"], \"</span><span class="hljs-keyword">text</span>\<span class="hljs-string">":\"</span>May the Force be <span class="hljs-keyword">with</span> you!\<span class="hljs-string">"}, {\"</span><span class="hljs-keyword">from</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026700</span>\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026785</span>\<span class="hljs-string">", \"</span><span class="hljs-keyword">text</span>\<span class="hljs-string">":\"</span>A <span class="hljs-built_in">long</span> time ago, <span class="hljs-keyword">in</span> a galaxy far, far away... It <span class="hljs-keyword">is</span> a period <span class="hljs-keyword">of</span> civil war. Rebel spaceships, striking <span class="hljs-keyword">from</span> a hidden base, have won their first victory against the evil Galactic Empire.\<span class="hljs-string">"}]}"</span>)
  .asString();</code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/multi"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.POST);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
<span class="hljs-built_in">request</span>.AddParameter(<span class="hljs-string">"application/json"</span>, <span class="hljs-string">"{\"</span>messages\<span class="hljs-string">":[{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-number">41793026731</span>\<span class="hljs-string">"], \"</span>text\<span class="hljs-string">":\"</span>May the Force be <span class="hljs-keyword">with</span> you!\<span class="hljs-string">"}, {\"</span>from\<span class="hljs-string">":\"</span><span class="hljs-number">41793026700</span>\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026785</span>\<span class="hljs-string">", \"</span>text\<span class="hljs-string">":\"</span>A long <span class="hljs-built_in">time</span> ago, <span class="hljs-keyword">in</span> a galaxy far, far away... It <span class="hljs-keyword">is</span> a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.\<span class="hljs-string">"}]}"</span>, ParameterType.RequestBody);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"messages"</span>: [
    {
      <span class="hljs-string">"from"</span>: <span class="hljs-string">"InfoSMS"</span>,
      <span class="hljs-string">"to"</span>: [
        <span class="hljs-string">"41793026727"</span>,
        <span class="hljs-string">"41793026731"</span>
      ],
      <span class="hljs-string">"text"</span>: <span class="hljs-string">"May the Force be with you!"</span>
    },
    {
      <span class="hljs-string">"from"</span>: <span class="hljs-string">"41793026700"</span>,
      <span class="hljs-string">"to"</span>: <span class="hljs-string">"41793026785"</span>,
      <span class="hljs-string">"text"</span>: <span class="hljs-string">"A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire."</span>
    }
  ]
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/multi"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"5028e2d42f19-42f1-4656-351e-a42c191e5fd2"</span></span>,
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"4242f196ba50-a356-2f91-831c4aa55f351ed2"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026731"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"9304a5a3ab19-1ca1-be74-76ad87651ed25f35"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026785"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">2</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5f35f87a2f19-a141-43a4-91cd81b85f8c689"</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SendSMSResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>7241ea9b2ca9-a11f-42c6-aa1e-83cd11c75f52<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>4242f196ba50-a356-2f91-831c4aa55f351ed2<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026731<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>9304a5a3ab19-1ca1-be74-76ad87651ed25f35<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026785<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>5f35f87a2f19-a141-43a4-91cd81b85f8c689<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SendSMSResponse</span>&gt;</span></span></code></pre>



<h2 id="single-binary-message">Single binary message</h2>

<p><em>This method allows you to send single binary message to one or more destination addresses.</em></p>

<p><strong>Definition</strong> <br>
<code>http://api.shortlink.ma/restapi/sms/1/binary/single</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>from</em></td>
  <td>String</td>
  <td>Represents sender ID and it can be alphanumeric or numeric. <em>Alphanumeric</em> sender ID length should be between 3 and 11 characters (Example: <code>CompanyName</code>). <em>Numeric</em> sender ID length should be between 3 and 14 characters.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String[]</td>
  <td><strong>Required.</strong> Array of message destination addresses. If you want to send a <a href="http://sms-api.github.io/RestSmsApi.html#single-textual-message-to-one-destination">message to one destination</a>, a single String is supported instead of an Array. Destination addresses must be in international format (Example: <code>41793026727</code>).</td>
</tr>
<tr>
  <td><em>binary</em></td>
  <td>BinaryContent</td>
  <td>Binary content that you want to send.</td>
</tr>
</tbody></table>


<p><strong>BinaryContent</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>hex</em></td>
  <td>String</td>
  <td>Hexadecimal string. This is the representation of your binary data. Two hex digits represent one byte. They should be separated by space character (Example: <code>"0f c2 4a bf 34 13 ba"</code>).</td>
</tr>
<tr>
  <td><em>dataCoding</em></td>
  <td>int</td>
  <td>Binary content data coding. Default value is (<code>0</code>) for GSM7. Example: (<code>8</code>) for Unicode data.</td>
</tr>
<tr>
  <td><em>esmClass</em></td>
  <td>int</td>
  <td>“Esm_class” parameter. Indicate a special message attributes associated with the SMS. Default value is <code>(0)</code>.</td>
</tr>
</tbody></table>


<blockquote>
  <p>Find out more about Data coding and “Esm_class” usage <a href="http://www.3gpp.org/DynaReport/23038.htm">here</a>.</p>
</blockquote>



<h3 id="examples-2">Examples</h3>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/1/sms/binary/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="json">{  
   "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
   "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
   "<span class="hljs-attribute">binary</span>":<span class="hljs-value">{  
      "<span class="hljs-attribute">hex</span>":<span class="hljs-value"><span class="hljs-string">"54 65 73 74 20 6d 65 73 73 61 67 65 2e"</span></span>,
      "<span class="hljs-attribute">dataCoding</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
      "<span class="hljs-attribute">esmClass</span>":<span class="hljs-value"><span class="hljs-number">0</span>
   </span>}
</span>}</span></code></pre>

<p><strong>Result Format</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"502baa42f19-42f1-351e-4656a42c1b1e5fd2"</span>
      </span>}
   ]
</span>}</code></pre>



<h3 id="response-format-2">Response format</h3>

<p>If successful, response header HTTP status code will be <code>200 OK</code> and the message will be sent.</p>

<p>If you try to send message without authorization, you will receive an error <code>401 Unauthorized</code>.</p>

<p><strong>SMSResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the request. Bulk ID will be received only when you send a message to <a href="http://sms-api.github.io/single-binary-message-to-multiple-destinations">more than one destination address</a>.</td>
</tr>
<tr>
  <td><em>messages</em></td>
  <td>SMSResponseDetails[]</td>
  <td>Array of sent message objects, one object per every message.</td>
</tr>
</tbody></table>


<p><strong>SMSResponseDetails</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The message destination address.</td>
</tr>
<tr>
  <td><em>status</em></td>
  <td>Status</td>
  <td>Indicates whether the message is successfully sent, not sent, delivered, not delivered, waiting for delivery or any other possible status.</td>
</tr>
<tr>
  <td><em>smsCount</em></td>
  <td>int</td>
  <td>The number of sent message segments.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the message sent.</td>
</tr>
</tbody></table>


<p><strong>Status</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Status group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Status group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Status ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Status name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the status.</td>
</tr>
<tr>
  <td><em>action</em></td>
  <td>String</td>
  <td>Action that should be taken to eliminate the error.</td>
</tr>
</tbody></table>


<blockquote>
  <p><strong>Note:</strong></p>
  
  <p>Find out more about Data coding and “Esm_class” usage <a href="http://www.3gpp.org/DynaReport/23038.htm">here</a>.</p>
</blockquote>



<h3 id="additional-examples-2">Additional examples</h3>



<h4 id="single-binary-message-to-one-destination">Single binary message to one destination</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/1/sms/binary/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="json">{  
   "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
   "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
   "<span class="hljs-attribute">binary</span>":<span class="hljs-value">{  
      "<span class="hljs-attribute">hex</span>":<span class="hljs-value"><span class="hljs-string">"54 65 73 74 20 6d 65 73 73 61 67 65 2e"</span></span>,
      "<span class="hljs-attribute">dataCoding</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
      "<span class="hljs-attribute">esmClass</span>":<span class="hljs-value"><span class="hljs-number">0</span>
   </span>}
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/1/sms/binary/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">request</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">binary</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">hex</span>&gt;</span>54 65 73 74 20 6d 65 73 73 61 67 65 2e<span class="hljs-tag">&lt;/<span class="hljs-title">hex</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">dataCoding</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">dataCoding</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">esmClass</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">esmClass</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">binary</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">request</span>&gt;</span></span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs scilab">curl -X POST \
 -H <span class="hljs-string">'Content-Type: application/json'</span> \
 -H <span class="hljs-string">'Accept: application/json'</span> \
 -H <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> \
 -d <span class="hljs-string">'{  
   "</span>from<span class="hljs-string">":"</span>InfoSMS<span class="hljs-string">",
   "</span>to<span class="hljs-string">":"</span><span class="hljs-number">41793026727</span><span class="hljs-string">",
   "</span>binary<span class="hljs-string">":{  
      "</span>hex<span class="hljs-string">":"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">20</span> <span class="hljs-number">6</span>d <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">73</span> <span class="hljs-number">61</span> <span class="hljs-number">67</span> <span class="hljs-number">65</span> <span class="hljs-number">2</span>e<span class="hljs-string">",
      "</span>dataCoding<span class="hljs-string">":0,
      "</span>esmClass<span class="hljs-string">":0
   }
}'</span> http:<span class="hljs-comment">//api.shortlink.ma/restapi/1/sms/binary/single</span></code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/binary/single'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_POST);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'content-type'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-variable">$request</span>-&gt;setBody(<span class="hljs-string">'{  
   "from":"InfoSMS",
   "to":"41793026727",
   "binary":{  
      "hex":"54 65 73 74 20 6d 65 73 73 61 67 65 2e",
      "dataCoding":0,
      "esmClass":0
   }
}'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">require <span class="hljs-comment">'uri'</span>
require <span class="hljs-comment">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/single"</span>)

http = Net::HTTP.<span class="hljs-keyword">new</span>(url.host, url.port)
http.use_ssl = <span class="hljs-literal">true</span>
http.verify_mode = OpenSSL::SSL::VERIFY_NONE

<span class="hljs-built_in">request</span> = Net::HTTP::Post.<span class="hljs-keyword">new</span>(url)
<span class="hljs-built_in">request</span>[<span class="hljs-string">"authorization"</span>] = <span class="hljs-comment">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"content-type"</span>] = <span class="hljs-comment">'application/json'</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"accept"</span>] = <span class="hljs-comment">'application/json'</span>

<span class="hljs-built_in">request</span>.body = <span class="hljs-string">"{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span>binary\<span class="hljs-string">":{\"</span><span class="hljs-built_in">hex</span>\<span class="hljs-string">":\"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">20</span> <span class="hljs-number">6</span>d <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">73</span> <span class="hljs-number">61</span> <span class="hljs-number">67</span> <span class="hljs-number">65</span> <span class="hljs-number">2</span>e\<span class="hljs-string">", \"</span>dataCoding\<span class="hljs-string">":0, \"</span>esmClass\<span class="hljs-string">":0}}"</span>

<span class="hljs-built_in">response</span> = http.<span class="hljs-built_in">request</span>(<span class="hljs-built_in">request</span>)
puts <span class="hljs-built_in">response</span>.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk">import http.client

conn = http.client.httpConnection(<span class="hljs-comment">"api.shortlink.ma"</span>)

payload = <span class="hljs-comment">"{\"</span>from\<span class="hljs-comment">":\"</span><span class="hljs-class">InfoSMS</span>\<span class="hljs-comment">", \"</span>to\<span class="hljs-comment">":\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">", \"</span>binary\<span class="hljs-comment">":{\"</span>hex\<span class="hljs-comment">":\"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">20</span> <span class="hljs-number">6</span>d <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">73</span> <span class="hljs-number">61</span> <span class="hljs-number">67</span> <span class="hljs-number">65</span> <span class="hljs-number">2</span>e\<span class="hljs-comment">", \"</span>dataCoding\<span class="hljs-comment">":0, \"</span>esmClass\<span class="hljs-comment">":0}}"</span>

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-comment">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'content-type'</span>: <span class="hljs-comment">"application/json"</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-comment">"application/json"</span>
    }

conn.request(<span class="hljs-comment">"POST"</span>, <span class="hljs-comment">"/restapi/sms/1/binary/single"</span>, payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode(<span class="hljs-comment">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs vbnet">HttpResponse&lt;<span class="hljs-built_in">String</span>&gt; response = Unirest.post(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/single"</span>)
  .header(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  .header(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>)
  .header(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  .body(<span class="hljs-string">"{\"</span><span class="hljs-keyword">from</span>\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-keyword">binary</span>\<span class="hljs-string">":{\"</span>hex\<span class="hljs-string">":\"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">20</span> <span class="hljs-number">6</span>d <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">73</span> <span class="hljs-number">61</span> <span class="hljs-number">67</span> <span class="hljs-number">65</span> <span class="hljs-number">2</span>e\<span class="hljs-string">", \"</span>dataCoding\<span class="hljs-string">":0, \"</span>esmClass\<span class="hljs-string">":0}}"</span>)
  .asString();</code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/single"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.POST);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
<span class="hljs-built_in">request</span>.AddParameter(<span class="hljs-string">"application/json"</span>, <span class="hljs-string">"{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span>binary\<span class="hljs-string">":{\"</span><span class="hljs-built_in">hex</span>\<span class="hljs-string">":\"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">20</span> <span class="hljs-number">6</span>d <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">73</span> <span class="hljs-number">61</span> <span class="hljs-number">67</span> <span class="hljs-number">65</span> <span class="hljs-number">2</span>e\<span class="hljs-string">", \"</span>dataCoding\<span class="hljs-string">":0, \"</span>esmClass\<span class="hljs-string">":0}}"</span>, ParameterType.RequestBody);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"from"</span>: <span class="hljs-string">"InfoSMS"</span>,
  <span class="hljs-string">"to"</span>: <span class="hljs-string">"41793026727"</span>,
  <span class="hljs-string">"binary"</span>: {
    <span class="hljs-string">"hex"</span>: <span class="hljs-string">"54 65 73 74 20 6d 65 73 73 61 67 65 2e"</span>,
    <span class="hljs-string">"dataCoding"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">"esmClass"</span>: <span class="hljs-number">0</span>
  }
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/single"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"502baa42f19-42f1-351e-4656a42c1b1e5fd2"</span>
      </span>}
   ]
</span>}      </span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>502baa42f19-42f1-351e-4656a42c1b1e5fd2<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSResponse</span>&gt;</span></span></code></pre>



<h4 id="single-binary-message-to-multiple-destinations">Single binary message to multiple destinations</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/1/sms/binary/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
   "<span class="hljs-attribute">to</span>":<span class="hljs-value">[  
      <span class="hljs-string">"41793026727"</span>,
      <span class="hljs-string">"41793026834"</span>
   ]</span>,
   "<span class="hljs-attribute">binary</span>":<span class="hljs-value">{  
      "<span class="hljs-attribute">hex</span>":<span class="hljs-value"><span class="hljs-string">"54 65 73 74 69 6e 67 20 c4 8d c5 a1 c4 87 c4 91"</span></span>,
      "<span class="hljs-attribute">dataCoding</span>":<span class="hljs-value"><span class="hljs-number">7</span></span>,
      "<span class="hljs-attribute">esmClass</span>":<span class="hljs-value"><span class="hljs-number">0</span>
   </span>}
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/1/sms/binary/single</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">request</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026834<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">binary</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">hex</span>&gt;</span>54 65 73 74 69 6e 67 20 c4 8d c5 a1 c4 87 c4 91<span class="hljs-tag">&lt;/<span class="hljs-title">hex</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">dataCoding</span>&gt;</span>7<span class="hljs-tag">&lt;/<span class="hljs-title">dataCoding</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">esmClass</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">esmClass</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">binary</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">request</span>&gt;</span></span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs scilab">curl -X POST 
 -H <span class="hljs-string">'Content-Type: application/json'</span> 
 -H <span class="hljs-string">'Accept: application/json'</span>
 -H <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> 
 -d <span class="hljs-string">'{  
   "</span>from<span class="hljs-string">":"</span>InfoSMS<span class="hljs-string">",
   "</span>to<span class="hljs-string">":[  
      "</span><span class="hljs-number">41793026727</span><span class="hljs-string">",
      "</span><span class="hljs-number">41793026834</span><span class="hljs-string">"
   ],
   "</span>binary<span class="hljs-string">":{  
      "</span>hex<span class="hljs-string">":"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">69</span> <span class="hljs-number">6</span>e <span class="hljs-number">67</span> <span class="hljs-number">20</span> c4 <span class="hljs-number">8</span>d c5 a1 c4 <span class="hljs-number">87</span> c4 <span class="hljs-number">91</span><span class="hljs-string">",
      "</span>dataCoding<span class="hljs-string">":7,
      "</span>esmClass<span class="hljs-string">":0
   }
}'</span> http:<span class="hljs-comment">//api.shortlink.ma/restapi/1/sms/binary/single</span></code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/binary/single'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_POST);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'content-type'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-variable">$request</span>-&gt;setBody(<span class="hljs-string">'{  
   "from":"InfoSMS",
   "to":[  
      "41793026727",
      "41793026834"
   ],
   "binary":{  
      "hex":"54 65 73 74 69 6e 67 20 c4 8d c5 a1 c4 87 c4 91",
      "dataCoding":7,
      "esmClass":0
   }
}'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">require <span class="hljs-comment">'uri'</span>
require <span class="hljs-comment">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/single"</span>)

http = Net::HTTP.<span class="hljs-keyword">new</span>(url.host, url.port)
http.use_ssl = <span class="hljs-literal">true</span>
http.verify_mode = OpenSSL::SSL::VERIFY_NONE

<span class="hljs-built_in">request</span> = Net::HTTP::Post.<span class="hljs-keyword">new</span>(url)
<span class="hljs-built_in">request</span>[<span class="hljs-string">"authorization"</span>] = <span class="hljs-comment">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"content-type"</span>] = <span class="hljs-comment">'application/json'</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"accept"</span>] = <span class="hljs-comment">'application/json'</span>

<span class="hljs-built_in">request</span>.body = <span class="hljs-string">"{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-number">41793026834</span>\<span class="hljs-string">"], \"</span>binary\<span class="hljs-string">":{\"</span><span class="hljs-built_in">hex</span>\<span class="hljs-string">":\"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">69</span> <span class="hljs-number">6</span>e <span class="hljs-number">67</span> <span class="hljs-number">20</span> c4 <span class="hljs-number">8</span>d c5 a1 c4 <span class="hljs-number">87</span> c4 <span class="hljs-number">91</span>\<span class="hljs-string">", \"</span>dataCoding\<span class="hljs-string">":7, \"</span>esmClass\<span class="hljs-string">":0}}"</span>

<span class="hljs-built_in">response</span> = http.<span class="hljs-built_in">request</span>(<span class="hljs-built_in">request</span>)
puts <span class="hljs-built_in">response</span>.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk">import http.client

conn = http.client.httpConnection(<span class="hljs-comment">"api.shortlink.ma"</span>)

payload = <span class="hljs-comment">"{\"</span>from\<span class="hljs-comment">":\"</span><span class="hljs-class">InfoSMS</span>\<span class="hljs-comment">", \"</span>to\<span class="hljs-comment">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">", \"</span><span class="hljs-number">41793026834</span>\<span class="hljs-comment">"], \"</span>binary\<span class="hljs-comment">":{\"</span>hex\<span class="hljs-comment">":\"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">69</span> <span class="hljs-number">6</span>e <span class="hljs-number">67</span> <span class="hljs-number">20</span> c4 <span class="hljs-number">8</span>d c5 a1 c4 <span class="hljs-number">87</span> c4 <span class="hljs-number">91</span>\<span class="hljs-comment">", \"</span>dataCoding\<span class="hljs-comment">":7, \"</span>esmClass\<span class="hljs-comment">":0}}"</span>

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-comment">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'content-type'</span>: <span class="hljs-comment">"application/json"</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-comment">"application/json"</span>
    }

conn.request(<span class="hljs-comment">"POST"</span>, <span class="hljs-comment">"/restapi/sms/1/binary/single"</span>, payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode(<span class="hljs-comment">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs vbnet">HttpResponse&lt;<span class="hljs-built_in">String</span>&gt; response = Unirest.post(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/single"</span>)
  .header(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  .header(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>)
  .header(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  .body(<span class="hljs-string">"{\"</span><span class="hljs-keyword">from</span>\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-number">41793026834</span>\<span class="hljs-string">"], \"</span><span class="hljs-keyword">binary</span>\<span class="hljs-string">":{\"</span>hex\<span class="hljs-string">":\"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">69</span> <span class="hljs-number">6</span>e <span class="hljs-number">67</span> <span class="hljs-number">20</span> c4 <span class="hljs-number">8</span>d c5 a1 c4 <span class="hljs-number">87</span> c4 <span class="hljs-number">91</span>\<span class="hljs-string">", \"</span>dataCoding\<span class="hljs-string">":7, \"</span>esmClass\<span class="hljs-string">":0}}"</span>)
  .asString();</code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/single"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.POST);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
<span class="hljs-built_in">request</span>.AddParameter(<span class="hljs-string">"application/json"</span>, <span class="hljs-string">"{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-number">41793026834</span>\<span class="hljs-string">"], \"</span>binary\<span class="hljs-string">":{\"</span><span class="hljs-built_in">hex</span>\<span class="hljs-string">":\"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">69</span> <span class="hljs-number">6</span>e <span class="hljs-number">67</span> <span class="hljs-number">20</span> c4 <span class="hljs-number">8</span>d c5 a1 c4 <span class="hljs-number">87</span> c4 <span class="hljs-number">91</span>\<span class="hljs-string">", \"</span>dataCoding\<span class="hljs-string">":7, \"</span>esmClass\<span class="hljs-string">":0}}"</span>, ParameterType.RequestBody);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"from"</span>: <span class="hljs-string">"InfoSMS"</span>,
  <span class="hljs-string">"to"</span>: [
    <span class="hljs-string">"41793026727"</span>,
    <span class="hljs-string">"41793026834"</span>
  ],
  <span class="hljs-string">"binary"</span>: {
    <span class="hljs-string">"hex"</span>: <span class="hljs-string">"54 65 73 74 69 6e 67 20 c4 8d c5 a1 c4 87 c4 91"</span>,
    <span class="hljs-string">"dataCoding"</span>: <span class="hljs-number">7</span>,
    <span class="hljs-string">"esmClass"</span>: <span class="hljs-number">0</span>
  }
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/single"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"5028e2d42f19-42f1-4656-351e-a42c191e5fd2"</span></span>,
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"465650242f19-4656-c191-a42e87655f351ed2"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026834"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"1234aba32f19-3c31-b294-76ad87655f351ed2"</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>7241ea9b2ca9-a11f-42c6-aa1e-83cd11c75f52<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>4242f196ba50-a356-2f91-831c4aa55f351ed2<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026834<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>9304a5a3ab19-1ca1-be74-76ad87651ed25f35<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSResponse</span>&gt;</span></span></code></pre>



<h2 id="multiple-binary-message">Multiple binary message</h2>

<p><em>This method allows you to send multiple binary messages to one or more destination addresses.</em></p>

<p><strong>Definition</strong></p>

<p><code>http://api.shortlink.ma/restapi/sms/1/binary/multi</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>messages</em></td>
  <td>SMSBinaryData[]</td>
  <td>Messages that you want to send.</td>
</tr>
</tbody></table>


<p><strong>SMSBinaryData</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>from</em></td>
  <td>String</td>
  <td>Represents sender ID and it can be alphanumeric or numeric. <em>Alphanumeric</em> sender ID length should be between 3 and 11 characters (Example: <code>CompanyName</code>). <em>Numeric</em> sender ID length should be between 3 and 14 characters.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String[]</td>
  <td><strong>Required.</strong> Array of message destination addresses. If you want to send a message to one destination, a single String is supported instead of an Array. Destination addresses must be in international format (Example: <code>41793026727</code>).</td>
</tr>
<tr>
  <td><em>binary</em></td>
  <td>BinaryContent</td>
  <td>Binary content that you want to send.</td>
</tr>
</tbody></table>


<p><strong>BinaryContent</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>hex</em></td>
  <td>String</td>
  <td>Hexadecimal string. This is the representation of your binary data. Two hex digits represent one byte. They should be separated by space character (Example: <code>"0f c2 4a bf 34 13 ba"</code>).</td>
</tr>
<tr>
  <td><em>dataCoding</em></td>
  <td>Integer</td>
  <td>Binary content data coding. Default value is (<code>0</code>) for GSM7. Example: (<code>8</code>) for Unicode data.</td>
</tr>
<tr>
  <td><em>esmClass</em></td>
  <td>Integer</td>
  <td>“Esm_class” parameter. Indicate a special message attributes associated with the SMS. Default value is <code>(0)</code>.</td>
</tr>
</tbody></table>




<h3 id="examples-3">Examples</h3>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/1/sms/binary/multi</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value">[  
            <span class="hljs-string">"41793026727"</span>,
            <span class="hljs-string">"41793026731"</span>
         ]</span>,
         "<span class="hljs-attribute">binary</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">hex</span>":<span class="hljs-value"><span class="hljs-string">"54 65 73 74 20 6d 65 73 73 61 67 65 2e"</span></span>,
            "<span class="hljs-attribute">dataCoding</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">esmClass</span>":<span class="hljs-value"><span class="hljs-number">0</span>
         </span>}
      </span>},
      {  
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"41793026700"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026785"</span></span>,
         "<span class="hljs-attribute">binary</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">hex</span>":<span class="hljs-value"><span class="hljs-string">"d1 82 d0 b5 d1 81 d1 82 d0 b8 d1 80 d0 b0 d1 9a d0 b5 20 d1 9b d0 b8 d1 80 d0 b8 d0 bb d0 b8 d1 86 d0 b5"</span></span>,
            "<span class="hljs-attribute">dataCoding</span>":<span class="hljs-value"><span class="hljs-number">6</span></span>,
            "<span class="hljs-attribute">esmClass</span>":<span class="hljs-value"><span class="hljs-number">0</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><strong>Result Format</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"1036A4cb-803a-4a73-a5a6-7e4fc3791722"</span></span>,
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">7</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"PENDING"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">7</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"PENDING_ENROUTE"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent to next instance"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"1254df3e-ab62-15af5-230b-14d8e65c7540"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026785"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"PENDING"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">7</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"PENDING_ENROUTE"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent to next instance"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"1877df3e-4b62-46f5-819b-14d8e65c2291"</span>
      </span>}
   ]
</span>}</code></pre>



<h3 id="response-format-3">Response format</h3>

<p>If successful, response header HTTP status code will be <code>200 OK</code> and the messages will be sent.</p>

<p>If you try to send messages without authorization, you will receive an error <code>401 Unauthorized</code>.</p>

<p><strong>SMSResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the request. Bulk ID will be received only when you send the message to <a href="http://sms-api.github.io/multiple-binary-messages-to-multiple-destinations">more than one destination address</a>.</td>
</tr>
<tr>
  <td><em>messages</em></td>
  <td>SMSResponseDetails[]</td>
  <td>Array of sent message objects, one object per every message.</td>
</tr>
</tbody></table>


<p><strong>SMSResponseDetails</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The message destination address.</td>
</tr>
<tr>
  <td><em>status</em></td>
  <td>Status</td>
  <td>Indicates whether the message is successfully sent, not sent, delivered, not delivered, waiting for delivery or any other possible status.</td>
</tr>
<tr>
  <td><em>smsCount</em></td>
  <td>int</td>
  <td>The number of sent message segments.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the message sent.</td>
</tr>
</tbody></table>


<p><strong>Status</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Status group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Status group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Status ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Status name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the status.</td>
</tr>
<tr>
  <td><em>action</em></td>
  <td>String</td>
  <td>Action that should be taken to eliminate the error.</td>
</tr>
</tbody></table>


<blockquote>
  <p><strong>Note:</strong></p>
  
  <p>Find out more about Data coding and Esm_class usage <a href="http://www.3gpp.org/DynaReport/23038.htm">here</a>.</p>
</blockquote>



<h3 id="additional-examples-3">Additional examples</h3>



<h4 id="multiple-binary-messages-to-multiple-destinations">Multiple binary messages to multiple destinations</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/1/sms/binary/multi</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value">[  
            <span class="hljs-string">"41793026727"</span>,
            <span class="hljs-string">"41793026731"</span>
         ]</span>,
         "<span class="hljs-attribute">binary</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">hex</span>":<span class="hljs-value"><span class="hljs-string">"54 65 73 74 20 6d 65 73 73 61 67 65 2e"</span></span>,
            "<span class="hljs-attribute">dataCoding</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">esmClass</span>":<span class="hljs-value"><span class="hljs-number">0</span>
         </span>}
      </span>},
      {  
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"41793026700"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026785"</span></span>,
         "<span class="hljs-attribute">binary</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">hex</span>":<span class="hljs-value"><span class="hljs-string">"d1 82 d0 b5 d1 81 d1 82 d0 b8 d1 80 d0 b0 d1 9a d0 b5 20 d1 9b d0 b8 d1 80 d0 b8 d0 bb d0 b8 d1 86 d0 b5"</span></span>,
            "<span class="hljs-attribute">dataCoding</span>":<span class="hljs-value"><span class="hljs-number">6</span></span>,
            "<span class="hljs-attribute">esmClass</span>":<span class="hljs-value"><span class="hljs-number">0</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/1/sms/binary/multi</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">request</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026731<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">binary</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">hex</span>&gt;</span>54 65 73 74 20 6d 65 73 73 61 67 65 2e<span class="hljs-tag">&lt;/<span class="hljs-title">hex</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">dataCoding</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">dataCoding</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">esmClass</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">esmClass</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">binary</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>41793026700<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026785<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">binary</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">hex</span>&gt;</span>d1 82 d0 b5 d1 81 d1 82 d0 b8 d1 80 d0 b0 d1 9a d0 b5 20 d1 9b d0 b8 d1 80 d0 b8 d0 bb d0 b8 d1 86 d0 b5<span class="hljs-tag">&lt;/<span class="hljs-title">hex</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">dataCoding</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-title">dataCoding</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">esmClass</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">esmClass</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">binary</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">request</span>&gt;</span></span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs scilab">curl -X POST \
-H <span class="hljs-string">'Content-Type: application/json'</span> \
-H <span class="hljs-string">'Accept: application/json'</span> \
-H <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> \
-d <span class="hljs-string">'{  
   "</span>messages<span class="hljs-string">":[  
      {  
         "</span>from<span class="hljs-string">":"</span>InfoSMS<span class="hljs-string">",
         "</span>to<span class="hljs-string">":[  
            "</span><span class="hljs-number">41793026727</span><span class="hljs-string">",
            "</span><span class="hljs-number">41793026731</span><span class="hljs-string">"
         ],
         "</span>binary<span class="hljs-string">":{  
            "</span>hex<span class="hljs-string">":"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">20</span> <span class="hljs-number">6</span>d <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">73</span> <span class="hljs-number">61</span> <span class="hljs-number">67</span> <span class="hljs-number">65</span> <span class="hljs-number">2</span>e<span class="hljs-string">",
            "</span>dataCoding<span class="hljs-string">":0,
            "</span>esmClass<span class="hljs-string">":0
         }
      },
      {  
         "</span>from<span class="hljs-string">":"</span><span class="hljs-number">41793026700</span><span class="hljs-string">",
         "</span>to<span class="hljs-string">":"</span><span class="hljs-number">41793026785</span><span class="hljs-string">",
         "</span>binary<span class="hljs-string">":{  
            "</span>hex<span class="hljs-string">":"</span>d1 <span class="hljs-number">82</span> d0 b5 d1 <span class="hljs-number">81</span> d1 <span class="hljs-number">82</span> d0 b8 d1 <span class="hljs-number">80</span> d0 b0 d1 <span class="hljs-number">9</span>a d0 b5 <span class="hljs-number">20</span> d1 <span class="hljs-number">9</span>b d0 b8 d1 <span class="hljs-number">80</span> d0 b8 d0 bb d0 b8 d1 <span class="hljs-number">86</span> d0 b5<span class="hljs-string">",
            "</span>dataCoding<span class="hljs-string">":6,
            "</span>esmClass<span class="hljs-string">":0
         }
      }
   ]
}'</span> http:<span class="hljs-comment">//api.shortlink.ma/restapi/1/sms/binary/multi</span></code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">&lt;?php

$<span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> HttpRequest();
$<span class="hljs-built_in">request</span>-&gt;setUrl(<span class="hljs-comment">'http://api.shortlink.ma/restapi/sms/1/binary/multi');</span>
$<span class="hljs-built_in">request</span>-&gt;setMethod(HTTP_METH_POST);

$<span class="hljs-built_in">request</span>-&gt;setHeaders(<span class="hljs-built_in">array</span>(
  <span class="hljs-comment">'accept' =&gt; 'application/json',</span>
  <span class="hljs-comment">'content-type' =&gt; 'application/json',</span>
  <span class="hljs-comment">'authorization' =&gt; 'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

$<span class="hljs-built_in">request</span>-&gt;setBody(<span class="hljs-comment">'{  </span>
   <span class="hljs-string">"messages"</span>:[  
      {  
         <span class="hljs-string">"from"</span>:<span class="hljs-string">"InfoSMS"</span>,
         <span class="hljs-string">"to"</span>:[  
            <span class="hljs-string">"41793026727"</span>,
            <span class="hljs-string">"41793026731"</span>
         ],
         <span class="hljs-string">"binary"</span>:{  
            <span class="hljs-string">"hex"</span>:<span class="hljs-string">"54 65 73 74 20 6d 65 73 73 61 67 65 2e"</span>,
            <span class="hljs-string">"dataCoding"</span>:<span class="hljs-number">0</span>,
            <span class="hljs-string">"esmClass"</span>:<span class="hljs-number">0</span>
         }
      },
      {  
         <span class="hljs-string">"from"</span>:<span class="hljs-string">"41793026700"</span>,
         <span class="hljs-string">"to"</span>:<span class="hljs-string">"41793026785"</span>,
         <span class="hljs-string">"binary"</span>:{  
            <span class="hljs-string">"hex"</span>:<span class="hljs-string">"d1 82 d0 b5 d1 81 d1 82 d0 b8 d1 80 d0 b0 d1 9a d0 b5 20 d1 9b d0 b8 d1 80 d0 b8 d0 bb d0 b8 d1 86 d0 b5"</span>,
            <span class="hljs-string">"dataCoding"</span>:<span class="hljs-number">6</span>,
            <span class="hljs-string">"esmClass"</span>:<span class="hljs-number">0</span>
         }
      }
   ]
}<span class="hljs-comment">');</span>

try {
  $<span class="hljs-built_in">response</span> = $<span class="hljs-built_in">request</span>-&gt;send();

  echo $<span class="hljs-built_in">response</span>-&gt;getBody();
} catch (HttpException $ex) {
  echo $ex;
}</code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">require <span class="hljs-comment">'uri'</span>
require <span class="hljs-comment">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/multi"</span>)

http = Net::HTTP.<span class="hljs-keyword">new</span>(url.host, url.port)
http.use_ssl = <span class="hljs-literal">true</span>
http.verify_mode = OpenSSL::SSL::VERIFY_NONE

<span class="hljs-built_in">request</span> = Net::HTTP::Post.<span class="hljs-keyword">new</span>(url)
<span class="hljs-built_in">request</span>[<span class="hljs-string">"authorization"</span>] = <span class="hljs-comment">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"content-type"</span>] = <span class="hljs-comment">'application/json'</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"accept"</span>] = <span class="hljs-comment">'application/json'</span>

<span class="hljs-built_in">request</span>.body = <span class="hljs-string">"{\"</span>messages\<span class="hljs-string">":[{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-number">41793026731</span>\<span class="hljs-string">"], \"</span>binary\<span class="hljs-string">":{\"</span><span class="hljs-built_in">hex</span>\<span class="hljs-string">":\"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">20</span> <span class="hljs-number">6</span>d <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">73</span> <span class="hljs-number">61</span> <span class="hljs-number">67</span> <span class="hljs-number">65</span> <span class="hljs-number">2</span>e\<span class="hljs-string">", \"</span>dataCoding\<span class="hljs-string">":0, \"</span>esmClass\<span class="hljs-string">":0}}, {\"</span>from\<span class="hljs-string">":\"</span><span class="hljs-number">41793026700</span>\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026785</span>\<span class="hljs-string">", \"</span>binary\<span class="hljs-string">":{\"</span><span class="hljs-built_in">hex</span>\<span class="hljs-string">":\"</span>d1 <span class="hljs-number">82</span> d0 b5 d1 <span class="hljs-number">81</span> d1 <span class="hljs-number">82</span> d0 b8 d1 <span class="hljs-number">80</span> d0 b0 d1 <span class="hljs-number">9</span>a d0 b5 <span class="hljs-number">20</span> d1 <span class="hljs-number">9</span>b d0 b8 d1 <span class="hljs-number">80</span> d0 b8 d0 bb d0 b8 d1 <span class="hljs-number">86</span> d0 b5\<span class="hljs-string">", \"</span>dataCoding\<span class="hljs-string">":6, \"</span>esmClass\<span class="hljs-string">":0}}]}"</span>

<span class="hljs-built_in">response</span> = http.<span class="hljs-built_in">request</span>(<span class="hljs-built_in">request</span>)
puts <span class="hljs-built_in">response</span>.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs tex">import http.client

conn = http.client.httpConnection("api.shortlink.ma")

payload = "<span class="hljs-special">{</span><span class="hljs-command">\"</span>messages<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>InfoSMS<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-command">\"</span>41793026727<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>41793026731<span class="hljs-command">\"</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>binary<span class="hljs-command">\"</span>:<span class="hljs-special">{</span><span class="hljs-command">\"</span>hex<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>54 65 73 74 20 6d 65 73 73 61 67 65 2e<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>dataCoding<span class="hljs-command">\"</span>:0, <span class="hljs-command">\"</span>esmClass<span class="hljs-command">\"</span>:0<span class="hljs-special">}</span><span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026700<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026785<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>binary<span class="hljs-command">\"</span>:<span class="hljs-special">{</span><span class="hljs-command">\"</span>hex<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>d1 82 d0 b5 d1 81 d1 82 d0 b8 d1 80 d0 b0 d1 9a d0 b5 20 d1 9b d0 b8 d1 80 d0 b8 d0 bb d0 b8 d1 86 d0 b5<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>dataCoding<span class="hljs-command">\"</span>:6, <span class="hljs-command">\"</span>esmClass<span class="hljs-command">\"</span>:0<span class="hljs-special">}</span><span class="hljs-special">}</span><span class="hljs-special">]</span><span class="hljs-special">}</span>"

headers = <span class="hljs-special">{</span>
    'authorization': "Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==",
    'content-type': "application/json",
    'accept': "application/json"
    <span class="hljs-special">}</span>

conn.request("POST", "/restapi/sms/1/binary/multi", payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode("utf-8"))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs tex">HttpResponse&lt;String&gt; response = Unirest.post("http://api.shortlink.ma/restapi/sms/1/binary/multi")
  .header("authorization", "Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==")
  .header("content-type", "application/json")
  .header("accept", "application/json")
  .body("<span class="hljs-special">{</span><span class="hljs-command">\"</span>messages<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>InfoSMS<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-command">\"</span>41793026727<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>41793026731<span class="hljs-command">\"</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>binary<span class="hljs-command">\"</span>:<span class="hljs-special">{</span><span class="hljs-command">\"</span>hex<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>54 65 73 74 20 6d 65 73 73 61 67 65 2e<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>dataCoding<span class="hljs-command">\"</span>:0, <span class="hljs-command">\"</span>esmClass<span class="hljs-command">\"</span>:0<span class="hljs-special">}</span><span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026700<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026785<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>binary<span class="hljs-command">\"</span>:<span class="hljs-special">{</span><span class="hljs-command">\"</span>hex<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>d1 82 d0 b5 d1 81 d1 82 d0 b8 d1 80 d0 b0 d1 9a d0 b5 20 d1 9b d0 b8 d1 80 d0 b8 d0 bb d0 b8 d1 86 d0 b5<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>dataCoding<span class="hljs-command">\"</span>:6, <span class="hljs-command">\"</span>esmClass<span class="hljs-command">\"</span>:0<span class="hljs-special">}</span><span class="hljs-special">}</span><span class="hljs-special">]</span><span class="hljs-special">}</span>")
  .asString();</code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/multi"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.POST);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
<span class="hljs-built_in">request</span>.AddParameter(<span class="hljs-string">"application/json"</span>, <span class="hljs-string">"{\"</span>messages\<span class="hljs-string">":[{\"</span>from\<span class="hljs-string">":\"</span>InfoSMS\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-number">41793026731</span>\<span class="hljs-string">"], \"</span>binary\<span class="hljs-string">":{\"</span><span class="hljs-built_in">hex</span>\<span class="hljs-string">":\"</span><span class="hljs-number">54</span> <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">74</span> <span class="hljs-number">20</span> <span class="hljs-number">6</span>d <span class="hljs-number">65</span> <span class="hljs-number">73</span> <span class="hljs-number">73</span> <span class="hljs-number">61</span> <span class="hljs-number">67</span> <span class="hljs-number">65</span> <span class="hljs-number">2</span>e\<span class="hljs-string">", \"</span>dataCoding\<span class="hljs-string">":0, \"</span>esmClass\<span class="hljs-string">":0}}, {\"</span>from\<span class="hljs-string">":\"</span><span class="hljs-number">41793026700</span>\<span class="hljs-string">", \"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":\"</span><span class="hljs-number">41793026785</span>\<span class="hljs-string">", \"</span>binary\<span class="hljs-string">":{\"</span><span class="hljs-built_in">hex</span>\<span class="hljs-string">":\"</span>d1 <span class="hljs-number">82</span> d0 b5 d1 <span class="hljs-number">81</span> d1 <span class="hljs-number">82</span> d0 b8 d1 <span class="hljs-number">80</span> d0 b0 d1 <span class="hljs-number">9</span>a d0 b5 <span class="hljs-number">20</span> d1 <span class="hljs-number">9</span>b d0 b8 d1 <span class="hljs-number">80</span> d0 b8 d0 bb d0 b8 d1 <span class="hljs-number">86</span> d0 b5\<span class="hljs-string">", \"</span>dataCoding\<span class="hljs-string">":6, \"</span>esmClass\<span class="hljs-string">":0}}]}"</span>, ParameterType.RequestBody);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"messages"</span>: [
    {
      <span class="hljs-string">"from"</span>: <span class="hljs-string">"InfoSMS"</span>,
      <span class="hljs-string">"to"</span>: [
        <span class="hljs-string">"41793026727"</span>,
        <span class="hljs-string">"41793026731"</span>
      ],
      <span class="hljs-string">"binary"</span>: {
        <span class="hljs-string">"hex"</span>: <span class="hljs-string">"54 65 73 74 20 6d 65 73 73 61 67 65 2e"</span>,
        <span class="hljs-string">"dataCoding"</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">"esmClass"</span>: <span class="hljs-number">0</span>
      }
    },
    {
      <span class="hljs-string">"from"</span>: <span class="hljs-string">"41793026700"</span>,
      <span class="hljs-string">"to"</span>: <span class="hljs-string">"41793026785"</span>,
      <span class="hljs-string">"binary"</span>: {
        <span class="hljs-string">"hex"</span>: <span class="hljs-string">"d1 82 d0 b5 d1 81 d1 82 d0 b8 d1 80 d0 b0 d1 9a d0 b5 20 d1 9b d0 b8 d1 80 d0 b8 d0 bb d0 b8 d1 86 d0 b5"</span>,
        <span class="hljs-string">"dataCoding"</span>: <span class="hljs-number">6</span>,
        <span class="hljs-string">"esmClass"</span>: <span class="hljs-number">0</span>
      }
    }
  ]
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/binary/multi"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"1036A4cb-803a-4a73-a5a6-7e4fc3791722"</span></span>,
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">7</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"PENDING"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">7</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"PENDING_ENROUTE"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent to next instance"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"1254df3e-ab62-15af5-230b-14d8e65c7540"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026731"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"PENDING"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">7</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"PENDING_ENROUTE"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent to next instance"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"a5b7df3e-1b62-4af5-840b-1b5de65c2ad7"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026785"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"PENDING"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">7</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"PENDING_ENROUTE"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent to next instance"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"1877df3e-4b62-46f5-819b-14d8e65c2291"</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>1036A4cb-803a-4a73-a5a6-7e4fc3791722<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>PENDING<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>7<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>PENDING_ENROUTE<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message sent to next instance<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>1254df3e-ab62-15af5-230b-14d8e65c7540<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026731<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>PENDING<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>7<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>PENDING_ENROUTE<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message sent to next instance<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>a5b7df3e-1b62-4af5-840b-1b5de65c2ad7<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026785<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>PENDING<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>7<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>PENDING_ENROUTE<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message sent to next instance<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>1877df3e-4b62-46f5-819b-14d8e65c2291<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSResponse</span>&gt;</span></span></code></pre>



<h2 id="delivery-reports">Delivery reports</h2>

<p><em>This method allows you to get one time delivery reports for sent SMS.</em></p>

<p><strong>Definition</strong></p>

<p><code>http://api.shortlink.ma/restapi/sms/1/reports</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the request. Bulk ID will be received only when you send a message to more than one destination address.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the message sent.</td>
</tr>
<tr>
  <td><em>limit</em></td>
  <td>String</td>
  <td>The maximum number of returned delivery reports.</td>
</tr>
</tbody></table>




<h3 id="examples-4">Examples</h3>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/reports</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><strong>Result Format</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"8c20f086-d82b-48cc-b2b3-3ca5f7aca9fb"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"ff4804ef-6ab6-4abd-984d-ab3b1387e852"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"385981178"</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:58:20.323+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:58:20.337+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</code></pre>



<h3 id="response-format-4">Response format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code> and delivery reports will be returned in the response body.</p>

<p>If you try to send a message without authorization, you will get a response with HTTP status code <code>401 Unauthorized</code>.</p>

<p><strong>SMSReportResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>results</em></td>
  <td>SentSMSReport[]</td>
  <td>Collection of reports, one per every message.</td>
</tr>
</tbody></table>


<p><strong>SentSMSReport</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>Bulk ID.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>Message ID.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>Destination address.</td>
</tr>
<tr>
  <td><em>sentAt</em></td>
  <td>Date</td>
  <td>Tells when the SMS was sent. Has the following format: <code>yyyy-MM-dd'T'HH:mm:ss.SSSZ</code>.</td>
</tr>
<tr>
  <td><em>doneAt</em></td>
  <td>Date</td>
  <td>Tells when the SMS was finished processing by the platform (ie. delivered to destination, delivered to destination network, etc.)</td>
</tr>
<tr>
  <td><em>smsCount</em></td>
  <td>int</td>
  <td>Number of parts the sent SMS was split into.</td>
</tr>
<tr>
  <td><em>price</em></td>
  <td>Price</td>
  <td>Sent SMS price.</td>
</tr>
<tr>
  <td><em>status</em></td>
  <td>Status</td>
  <td>Indicates whether the message is successfully sent, not sent, delivered, not delivered, waiting for delivery or any other possible status.</td>
</tr>
<tr>
  <td><em>error</em></td>
  <td>Error</td>
  <td>Indicates whether the error occurred during the query execution.</td>
</tr>
</tbody></table>


<p><strong>Price</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>pricePerMessage</em></td>
  <td>BigDecimal</td>
  <td>Price per one SMS.</td>
</tr>
<tr>
  <td><em>currency</em></td>
  <td>String</td>
  <td>The currency in which the price is expressed.</td>
</tr>
</tbody></table>


<p><strong>Status</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Status group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Status group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Status ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Status name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the status.</td>
</tr>
<tr>
  <td><em>action</em></td>
  <td>String</td>
  <td>Action that should be taken to eliminate the error.</td>
</tr>
</tbody></table>


<p><strong>Error</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Error group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Error group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Error ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Error name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the error.</td>
</tr>
<tr>
  <td><em>permanent</em></td>
  <td>boolean</td>
  <td>Tells if the error is permanent.</td>
</tr>
</tbody></table>




<h3 id="additional-examples-4">Additional examples</h3>



<h4 id="getting-reports-without-any-query-parameter">Getting reports without any query parameter</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/reports</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/reports</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET \
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> \
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span> \
</span>http://api.shortlink.ma/restapi/sms/1/reports</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/reports'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/reports"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/reports"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/reports"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/reports"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/reports"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"8c20f086-d82b-48cc-b2b3-3ca5f7aca9fb"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"ff4804ef-6ab6-4abd-984d-ab3b1387e852"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"385981178"</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:58:20.323+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:58:20.337+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSReportResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>8c20f086-d82b-48cc-b2b3-3ca5f7aca9fb<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>ff4804ef-6ab6-4abd-984d-ab3b1387e852<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>385981178<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">sentAt</span>&gt;</span>2015-02-12T09:58:20.323+0100<span class="hljs-tag">&lt;/<span class="hljs-title">sentAt</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">doneAt</span>&gt;</span>2015-02-12T09:58:20.337+0100<span class="hljs-tag">&lt;/<span class="hljs-title">doneAt</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">price</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">pricePerMessage</span>&gt;</span>0.01<span class="hljs-tag">&lt;/<span class="hljs-title">pricePerMessage</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">currency</span>&gt;</span>EUR<span class="hljs-tag">&lt;/<span class="hljs-title">currency</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">price</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>DELIVERED_TO_HANDSET<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message delivered to handset<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSReportResponse</span>&gt;</span></span></code></pre>



<h4 id="getting-the-initial-two-delivery-reports">Getting the initial two delivery reports</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/reports?limit=2</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/reports?limit=2</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET 
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> 
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>
</span>http://api.shortlink.ma/restapi/sms/1/reports?limit=2</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/reports'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setQueryData(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'limit'</span> =&gt; <span class="hljs-string">'2'</span>
));

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/reports?limit=2"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/reports?limit=2"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/reports?limit=2"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/reports?limit=2"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/reports?limit=2"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"80664c0c-e1ca-414d-806a-5caf146463df"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"bcfb828b-7df9-4e7b-8715-f34f5c61271a"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"38598111"</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:58:20.323+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:58:20.337+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>},
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"08fe4407-c48f-4d4b-a2f4-9ff583c985b8"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"12db39c3-7822-4e72-a3ec-c87442c0ffc5"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"385981112"</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:58:20.345+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-12T09:58:20.350+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSReportResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>80664c0c-e1ca-414d-806a-5caf146463df<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>bcfb828b-7df9-4e7b-8715-f34f5c61271a<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>38598111<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">sentAt</span>&gt;</span>2015-02-12T09:58:20.323+0100<span class="hljs-tag">&lt;/<span class="hljs-title">sentAt</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">doneAt</span>&gt;</span>2015-02-12T09:58:20.337+0100<span class="hljs-tag">&lt;/<span class="hljs-title">doneAt</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">price</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">pricePerMessage</span>&gt;</span>0.01<span class="hljs-tag">&lt;/<span class="hljs-title">pricePerMessage</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">currency</span>&gt;</span>EUR<span class="hljs-tag">&lt;/<span class="hljs-title">currency</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">price</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>DELIVERED_TO_HANDSET<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message delivered to handset<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>NO_ERROR<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>No Error<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>08fe4407-c48f-4d4b-a2f4-9ff583c985b8<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>12db39c3-7822-4e72-a3ec-c87442c0ffc5<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>385981112<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">sentAt</span>&gt;</span>2015-02-12T09:58:20.345+0100<span class="hljs-tag">&lt;/<span class="hljs-title">sentAt</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">doneAt</span>&gt;</span>2015-02-12T09:58:20.350+0100<span class="hljs-tag">&lt;/<span class="hljs-title">doneAt</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">price</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">pricePerMessage</span>&gt;</span>0.01<span class="hljs-tag">&lt;/<span class="hljs-title">pricePerMessage</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">currency</span>&gt;</span>EUR<span class="hljs-tag">&lt;/<span class="hljs-title">currency</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">price</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>DELIVERED_TO_HANDSET<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message delivered to handset<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>NO_ERROR<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>No Error<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSReportResponse</span>&gt;</span></span></code></pre>



<h2 id="sent-messages-logs">Sent messages logs</h2>

<p><em>This method allows you to get logs for sent SMS.</em></p>

<p><strong>Definition</strong></p>

<p><code>http://api.shortlink.ma/restapi/sms/1/logs</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>from</em></td>
  <td>String</td>
  <td>Sender ID that can be alphanumeric or numeric.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The message destination address.</td>
</tr>
<tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the request. Bulk ID will be received only when you send a message to more than one destination address.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the message sent.</td>
</tr>
<tr>
  <td><em>generalStatus</em></td>
  <td>String</td>
  <td>Sent SMS status group.Indicates whether the message is successfully sent, not sent, delivered, not delivered, waiting for delivery or any other possible status.</td>
</tr>
<tr>
  <td><em>sentSince</em></td>
  <td>DateTime</td>
  <td>Lower limit on date and time of sending SMS.</td>
</tr>
<tr>
  <td><em>sentUntil</em></td>
  <td>DateTime</td>
  <td>Upper limit on date and time of sending SMS.</td>
</tr>
<tr>
  <td><em>limit</em></td>
  <td>Integer</td>
  <td>Maximal number of messages in returned logs.</td>
</tr>
<tr>
  <td><em>mcc</em></td>
  <td>String</td>
  <td>Mobile country code.</td>
</tr>
<tr>
  <td><em>mnc</em></td>
  <td>String</td>
  <td>Mobile network code.</td>
</tr>
</tbody></table>




<h3 id="examples-5">Examples</h3>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/logs</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><strong>Result Format</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"06479ba3-5977-47f6-9346-fee0369bc76b"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"1f21d8d7-f306-4f53-9f6e-eddfce9849ea"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:40:31.773+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:40:31.787+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">mccmnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</code></pre>



<h3 id="response-format-5">Response format</h3>

<blockquote>
  <p><strong>Important:</strong></p>
  
  <p><strong>SMS logs are available for the last 48 hours!</strong></p>
</blockquote>

<p>If successful, response header HTTP status code will be <code>200 OK</code> and the message logs will be returned.</p>

<p>If you try to send message without authorization, you will get a response with HTTP status code <code>401 Unauthorized</code>.</p>

<p><strong>SMSLogsResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>results</em></td>
  <td>SentSMSLog[]</td>
  <td>Collection of logs.</td>
</tr>
</tbody></table>


<p><strong>SentSMSLog</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the request.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the message sent.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The message destination address.</td>
</tr>
<tr>
  <td><em>from</em></td>
  <td>String</td>
  <td>Sender ID that can be alphanumeric or numeric.</td>
</tr>
<tr>
  <td><em>text</em></td>
  <td>String</td>
  <td>Text of the message that was sent.</td>
</tr>
<tr>
  <td><em>sentAt</em></td>
  <td>Date</td>
  <td>Tells when the SMS was sent. Has the following format: <code>yyyy-MM-dd'T'HH:mm:ss.SSSZ</code>.</td>
</tr>
<tr>
  <td><em>doneAt</em></td>
  <td>Date</td>
  <td>Tells when the SMS was finished processing by the platform (ie. delivered to destination, delivered to destination network, etc.)</td>
</tr>
<tr>
  <td><em>smsCount</em></td>
  <td>int</td>
  <td>The number of sent message segments.</td>
</tr>
<tr>
  <td><em>mccmnc</em></td>
  <td>String</td>
  <td>Mobile country and network codes.</td>
</tr>
<tr>
  <td><em>price</em></td>
  <td>Price</td>
  <td>Sent SMS price.</td>
</tr>
<tr>
  <td><em>status</em></td>
  <td>Status</td>
  <td>Indicates whether the message is successfully sent, not sent, delivered, not delivered, waiting for delivery or any other possible status.</td>
</tr>
<tr>
  <td><em>error</em></td>
  <td>Error</td>
  <td>Indicates whether the error occurred during the query execution.</td>
</tr>
</tbody></table>


<p><strong>Price</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>pricePerMessage</em></td>
  <td>BigDecimal</td>
  <td>Price per one SMS.</td>
</tr>
<tr>
  <td><em>currency</em></td>
  <td>String</td>
  <td>The currency in which the price is expressed.</td>
</tr>
</tbody></table>


<p><strong>Status</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Status group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Status group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Status ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Status name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the status.</td>
</tr>
<tr>
  <td><em>action</em></td>
  <td>String</td>
  <td>Action that should be taken to eliminate the error.</td>
</tr>
</tbody></table>


<p><strong>Error</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Error group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Error group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Error ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Error name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the error.</td>
</tr>
<tr>
  <td><em>permanent</em></td>
  <td>boolean</td>
  <td>Tells if the error is permanent.</td>
</tr>
</tbody></table>




<h3 id="additional-examples-5">Additional examples</h3>



<h4 id="getting-logs-without-any-query-parameter">Getting logs without any query parameter</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/logs</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/logs</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET 
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> 
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
</span>http://api.shortlink.ma/restapi/sms/1/logs</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/logs'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/logs"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"bafdeb3d-719b-4cce-8762-54d47b40f3c5"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"07e03aae-fabc-44ad-b1ce-222e14094d70"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:41:11.833+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:41:11.843+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">mccmnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>},
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"06479ba3-5977-47f6-9346-fee0369bc76b"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"1f21d8d7-f306-4f53-9f6e-eddfce9849ea"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:40:31.773+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:40:31.787+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">mccmnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSLogsResponse</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>7944c32d-bf77-4f41-a752-c3aa89027adc<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>f97d3b99-fab2-468e-8acf-c8c8792b8ce6<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Test SMS.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">sentAt</span>&gt;</span>2015-02-23T17:41:18.020+0100<span class="hljs-tag">&lt;/<span class="hljs-title">sentAt</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">doneAt</span>&gt;</span>2015-02-23T17:41:18.027+0100<span class="hljs-tag">&lt;/<span class="hljs-title">doneAt</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">mccmnc</span>&gt;</span>22801<span class="hljs-tag">&lt;/<span class="hljs-title">mccmnc</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">price</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">pricePerMessage</span>&gt;</span>0.0100<span class="hljs-tag">&lt;/<span class="hljs-title">pricePerMessage</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">currency</span>&gt;</span>EUR<span class="hljs-tag">&lt;/<span class="hljs-title">currency</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">price</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>DELIVERED_TO_HANDSET<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message delivered to handset<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>Ok<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>NO_ERROR<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>No Error<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>bafdeb3d-719b-4cce-8762-54d47b40f3c5<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>07e03aae-fabc-44ad-b1ce-222e14094d70<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Test SMS.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">sentAt</span>&gt;</span>2015-02-23T17:41:11.833+0100<span class="hljs-tag">&lt;/<span class="hljs-title">sentAt</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">doneAt</span>&gt;</span>2015-02-23T17:41:11.843+0100<span class="hljs-tag">&lt;/<span class="hljs-title">doneAt</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">mccmnc</span>&gt;</span>22801<span class="hljs-tag">&lt;/<span class="hljs-title">mccmnc</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">price</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">pricePerMessage</span>&gt;</span>0.0100<span class="hljs-tag">&lt;/<span class="hljs-title">pricePerMessage</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">currency</span>&gt;</span>EUR<span class="hljs-tag">&lt;/<span class="hljs-title">currency</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">price</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>DELIVERED_TO_HANDSET<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message delivered to handset<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>Ok<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>NO_ERROR<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>No Error<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSLogsResponse</span>&gt;</span></span></code></pre>



<h4 id="getting-logs-with-from-to-and-limit-as-filters">Getting logs with <code>from</code>, <code>to</code> and <code>limit</code> as filters</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/logs?from=InfoSMS&amp;to=41793026727&amp;limit=1</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/logs?from=InfoSMS&amp;to=41793026727&amp;limit=1</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET \
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> \
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> \
</span>http://api.shortlink.ma/restapi/sms/1/logs?from=InfoSMS&amp;to=41793026727&amp;limit=1</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/logs'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setQueryData(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'from'</span> =&gt; <span class="hljs-string">'InfoSMS'</span>,
  <span class="hljs-string">'to'</span> =&gt; <span class="hljs-string">'41793026727'</span>,
  <span class="hljs-string">'limit'</span> =&gt; <span class="hljs-string">'1'</span>
));

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?from=InfoSMS&amp;to=41793026727&amp;limit=1"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/logs?from=InfoSMS&amp;to=41793026727&amp;limit=1"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?from=InfoSMS&amp;to=41793026727&amp;limit=1"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?from=InfoSMS&amp;to=41793026727&amp;limit=1"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?from=InfoSMS&amp;to=41793026727&amp;limit=1"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"82d1d36e-e4fb-4194-8b93-caeb053bd327"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"fc0cbfb8-7a72-40da-a76d-e2c2d9400835"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:42:05.390+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:42:05.390+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">mccmnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"REJECTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">6</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"REJECTED_NETWORK"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Network is forbidden"</span></span>,
            "<span class="hljs-attribute">action</span>":<span class="hljs-value"><span class="hljs-string">"Contact account manager"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSLogsResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>82d1d36e-e4fb-4194-8b93-caeb053bd327<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>fc0cbfb8-7a72-40da-a76d-e2c2d9400835<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Test SMS.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">sentAt</span>&gt;</span>2015-02-23T17:42:05.390+0100<span class="hljs-tag">&lt;/<span class="hljs-title">sentAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">doneAt</span>&gt;</span>2015-02-23T17:42:05.390+0100<span class="hljs-tag">&lt;/<span class="hljs-title">doneAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">mccmnc</span>&gt;</span>22801<span class="hljs-tag">&lt;/<span class="hljs-title">mccmnc</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">price</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">pricePerMessage</span>&gt;</span>0.0000<span class="hljs-tag">&lt;/<span class="hljs-title">pricePerMessage</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">currency</span>&gt;</span>EUR<span class="hljs-tag">&lt;/<span class="hljs-title">currency</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">price</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>REJECTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>REJECTED_NETWORK<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Network is forbidden<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">action</span>&gt;</span>Contact account manager<span class="hljs-tag">&lt;/<span class="hljs-title">action</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>NO_ERROR<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>No Error<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSLogsResponse</span>&gt;</span></span></code></pre>



<h4 id="getting-logs-with-multiple-bulkids-as-filters">Getting logs with multiple <code>bulkIds</code> as filters</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/logs?bulkId=1dece649-6c8f-404e-8c6e-c7e073be509a,bafdeb3d-719b-4cce-8762-54d47b40f3c5</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/logs?bulkId=1dece649-6c8f-404e-8c6e-c7e073be509a,bafdeb3d-719b-4cce-8762-54d47b40f3c5</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET 
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> 
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> 
</span>http://api.shortlink.ma/restapi/sms/1/logs?bulkId=1dece649-6c8f-404e-8c6e-c7e073be509a,bafdeb3d-719b-4cce-8762-54d47b40f3c5</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/logs'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setQueryData(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'bulkId'</span> =&gt; <span class="hljs-string">'1dece649-6c8f-404e-8c6e-c7e073be509a,bafdeb3d-719b-4cce-8762-54d47b40f3c5'</span>
));

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?bulkId=1dece649-6c8f-404e-8c6e-c7e073be509a%2Cbafdeb3d-719b-4cce-8762-54d47b40f3c5"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/logs?bulkId=1dece649-6c8f-404e-8c6e-c7e073be509a%2Cbafdeb3d-719b-4cce-8762-54d47b40f3c5"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?bulkId=1dece649-6c8f-404e-8c6e-c7e073be509a%2Cbafdeb3d-719b-4cce-8762-54d47b40f3c5"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?bulkId=1dece649-6c8f-404e-8c6e-c7e073be509a%2Cbafdeb3d-719b-4cce-8762-54d47b40f3c5"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?bulkId=1dece649-6c8f-404e-8c6e-c7e073be509a%2Cbafdeb3d-719b-4cce-8762-54d47b40f3c5"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"bafdeb3d-719b-4cce-8762-54d47b40f3c5"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"07e03aae-fabc-44ad-b1ce-222e14094d70"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:41:11.833+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T17:41:11.843+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">mccmnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>},
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"1dece649-6c8f-404e-8c6e-c7e073be509a"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"faa48fe6-fe2c-4f36-a43b-a070e2906ecb"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T16:22:37.413+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-23T16:22:37.437+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">mccmnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">2</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">9</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE_NOT_DELIVERED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent not delivered"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSLogsResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>bafdeb3d-719b-4cce-8762-54d47b40f3c5<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>07e03aae-fabc-44ad-b1ce-222e14094d70<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Test SMS.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">sentAt</span>&gt;</span>2015-02-23T17:41:11.833+0100<span class="hljs-tag">&lt;/<span class="hljs-title">sentAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">doneAt</span>&gt;</span>2015-02-23T17:41:11.843+0100<span class="hljs-tag">&lt;/<span class="hljs-title">doneAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">mccmnc</span>&gt;</span>22801<span class="hljs-tag">&lt;/<span class="hljs-title">mccmnc</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">price</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">pricePerMessage</span>&gt;</span>0.0100<span class="hljs-tag">&lt;/<span class="hljs-title">pricePerMessage</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">currency</span>&gt;</span>EUR<span class="hljs-tag">&lt;/<span class="hljs-title">currency</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">price</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>DELIVERED_TO_HANDSET<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message delivered to handset<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>NO_ERROR<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>No Error<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>1dece649-6c8f-404e-8c6e-c7e073be509a<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>faa48fe6-fe2c-4f36-a43b-a070e2906ecb<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Test SMS.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">sentAt</span>&gt;</span>2015-02-23T16:22:37.413+0100<span class="hljs-tag">&lt;/<span class="hljs-title">sentAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">doneAt</span>&gt;</span>2015-02-23T16:22:37.437+0100<span class="hljs-tag">&lt;/<span class="hljs-title">doneAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">mccmnc</span>&gt;</span>22801<span class="hljs-tag">&lt;/<span class="hljs-title">mccmnc</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">price</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">pricePerMessage</span>&gt;</span>0.0000<span class="hljs-tag">&lt;/<span class="hljs-title">pricePerMessage</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">currency</span>&gt;</span>EUR<span class="hljs-tag">&lt;/<span class="hljs-title">currency</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">price</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>UNDELIVERABLE<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>UNDELIVERABLE_NOT_DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message sent not delivered<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>NO_ERROR<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>No Error<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSLogsResponse</span>&gt;</span></span></code></pre>



<h4 id="getting-logs-with-date-range-and-general-status-as-filters">Getting logs with <code>date range</code> and <code>general status</code> as filters</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/logs?sentSince=2015-02-22T17:42:05.390%2b01:00&amp;generalStatus=DELIVERED</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/logs?sentSince=2015-02-22T17:42:05.390%2b01:00&amp;generalStatus=DELIVERED</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET 
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> 
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> 
</span>http://api.shortlink.ma/restapi/sms/1/logs?sentSince=2015-02-22T17:42:05.390%2b01:00&amp;generalStatus=DELIVERED</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/logs'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setQueryData(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'sentSince'</span> =&gt; <span class="hljs-string">'2015-02-22T17:42:05.390+01:00'</span>,
  <span class="hljs-string">'generalStatus'</span> =&gt; <span class="hljs-string">'DELIVERED'</span>
));

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?sentSince=2015-02-22T17%3A42%3A05.390%2B01%3A00&amp;generalStatus=DELIVERED"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs perl">import http.client

conn = http.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/logs?sentSince=2015-02-22T17<span class="hljs-variable">%3A42</span><span class="hljs-variable">%3A05</span>.390<span class="hljs-variable">%2B01</span><span class="hljs-variable">%3A00</span>&amp;generalStatus=DELIVERED"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-keyword">read</span>()

<span class="hljs-keyword">print</span>(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs perl">HttpResponse&lt;String&gt; response = Unirest.get(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?sentSince=2015-02-22T17<span class="hljs-variable">%3A42</span><span class="hljs-variable">%3A05</span>.390<span class="hljs-variable">%2B01</span><span class="hljs-variable">%3A00</span>&amp;generalStatus=DELIVERED"</span>)
  .header(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  .header(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  .asString();</code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?sentSince=2015-02-22T17%3A42%3A05.390%2B01%3A00&amp;generalStatus=DELIVERED"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/logs?sentSince=2015-02-22T17%3A42%3A05.390%2B01%3A00&amp;generalStatus=DELIVERED"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"ce166d0e-bac7-4639-a094-52c406852afd"</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"fdf71ada-3308-4cd1-9962-31f2b937a1d0"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test SMS."</span></span>,
         "<span class="hljs-attribute">sentAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-24T10:34:56.463+0100"</span></span>,
         "<span class="hljs-attribute">doneAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-24T10:34:56.480+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">mccmnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">price</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">pricePerMessage</span>":<span class="hljs-value"><span class="hljs-number">0.01</span></span>,
            "<span class="hljs-attribute">currency</span>":<span class="hljs-value"><span class="hljs-string">"EUR"</span>
         </span>}</span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"DELIVERED_TO_HANDSET"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message delivered to handset"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"OK"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"NO_ERROR"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"No Error"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SMSLogsResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>ce166d0e-bac7-4639-a094-52c406852afd<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>fdf71ada-3308-4cd1-9962-31f2b937a1d0<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Test SMS.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">sentAt</span>&gt;</span>2015-02-24T10:34:56.463+0100<span class="hljs-tag">&lt;/<span class="hljs-title">sentAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">doneAt</span>&gt;</span>2015-02-24T10:34:56.480+0100<span class="hljs-tag">&lt;/<span class="hljs-title">doneAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">mccmnc</span>&gt;</span>22801<span class="hljs-tag">&lt;/<span class="hljs-title">mccmnc</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">price</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">pricePerMessage</span>&gt;</span>0.0100<span class="hljs-tag">&lt;/<span class="hljs-title">pricePerMessage</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">currency</span>&gt;</span>EUR<span class="hljs-tag">&lt;/<span class="hljs-title">currency</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">price</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>DELIVERED_TO_HANDSET<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message delivered to handset<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>NO_ERROR<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>No Error<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SMSLogsResponse</span>&gt;</span></span></code></pre>

<hr>



<h1 id="advanced-sms-methods">Advanced SMS methods</h1>



<h2 id="fully-featured-textual-message">Fully featured textual message</h2>

<p><em>Send advanced SMS with the all available features and parameters.</em></p>

<p><strong>Definition</strong> <br>
<code>http://api.shortlink.ma/restapi/sms/1/text/advanced</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>from</em></td>
  <td>String</td>
  <td>Represents a sender ID which can be alphanumeric or numeric. <em>Alphanumeric</em> sender ID length should be between 3 and 11 characters (Example: <code>CompanyName</code>). <em>Numeric</em> sender ID length should be between 3 and 14 characters.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String[]</td>
  <td><strong>Required.</strong> Array of message destination addresses. If you want to send a message to one destination, a single String is supported instead of an Array. Destination addresses must be in international format (Example: <code>41793026727</code>).</td>
</tr>
<tr>
  <td><em>text</em></td>
  <td>String</td>
  <td>Text of the message that will be sent.</td>
</tr>
<tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>The ID which uniquely identifies the request. Bulk ID will be received only when you send a message to <a href="http://sms-api.github.io/multiple-textual-messages-to-multiple-destinations">more than one destination address</a>.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the message sent.</td>
</tr>
<tr>
  <td><em>flash</em></td>
  <td>Boolean</td>
  <td>Can be <code>true</code> or <code>false</code>. If the value is set to <code>true</code>, a flash SMS will be sent. Otherwise, a normal SMS will be sent. The default value is <code>false</code>.</td>
</tr>
<tr>
  <td><em>transliteration</em></td>
  <td>String</td>
  <td>Conversion of a message text from one script to another. Possible values: <code>"TURKISH"</code>, <code>"GREEK"</code>, <code>"CYRILLIC"</code>, <code>"CENTRAL_EUROPEAN"</code>.</td>
</tr>
<tr>
  <td><em>languageCode</em></td>
  <td>String</td>
  <td>Code for language character set of a message text. Possible values: <code>TR</code> for Turkish, <code>ES</code> for Spanish and <code>PT</code> for Portuguese.</td>
</tr>
<tr>
  <td><em>singleShift</em></td>
  <td>Boolean</td>
  <td>Single shift table replacing the GSM 7 bit default alphabet extension table. Find more details <a href="http://en.wikipedia.org/wiki/GSM_03.38">here</a>.</td>
</tr>
<tr>
  <td><em>lockingShift</em></td>
  <td>Boolean</td>
  <td>Locking shift table replacing standard GSM 7 bit default alphabet table. Find more details <a href="http://en.wikipedia.org/wiki/GSM_03.38">here</a>.</td>
</tr>
<tr>
  <td><em>notifyUrl</em></td>
  <td>String</td>
  <td>The URL on your call back server on which the Delivery report will be sent.</td>
</tr>
<tr>
  <td><em>notifyContentType</em></td>
  <td>String</td>
  <td>Preferred Delivery report content type. Can be <code>application/json</code> or <code>application/xml</code>.</td>
</tr>
<tr>
  <td><em>callbackData</em></td>
  <td>String</td>
  <td>Additional client’s data that will be sent on the notifyUrl.</td>
</tr>
<tr>
  <td><em>validityPeriod</em></td>
  <td>Integer</td>
  <td>The message validity period in minutes. When the period expires, it will not be allowed for the message to be sent. Validity period longer than 48h is not supported (in this case, it will be automatically set to 48h).</td>
</tr>
<tr>
  <td><em>sendAt</em></td>
  <td>DateTime</td>
  <td>Date and time when the message is to be sent. Used for scheduled SMS (SMS not sent immediately, but at scheduled time).</td>
</tr>
</tbody></table>




<h3 id="examples-6">Examples</h3>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/advanced</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
   "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"BULK-ID-123-xyz"</span></span>,
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[
      {
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"InfoSMS"</span></span>,
         "<span class="hljs-attribute">destinations</span>":<span class="hljs-value">[
            {
               "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
               "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE-ID-123-xyz"</span>
            </span>},
            {
               "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026731"</span>
            </span>}
         ]</span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Artık Ulusal Dil Tanımlayıcısı ile Türkçe karakterli smslerinizi rahatlıkla iletebilirsiniz."</span></span>,
         "<span class="hljs-attribute">flash</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">language</span>":<span class="hljs-value">{
            "<span class="hljs-attribute">languageCode</span>":<span class="hljs-value"><span class="hljs-string">"TR"</span></span>,
            "<span class="hljs-attribute">singleShift</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
            "<span class="hljs-attribute">lockingShift</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}</span>,
         "<span class="hljs-attribute">transliteration</span>":<span class="hljs-value"><span class="hljs-string">"TURKISH"</span></span>,
         "<span class="hljs-attribute">notifyUrl</span>":<span class="hljs-value"><span class="hljs-string">"http://www.example.com/sms/advanced"</span></span>,
         "<span class="hljs-attribute">notifyContentType</span>":<span class="hljs-value"><span class="hljs-string">"application/json"</span></span>,
         "<span class="hljs-attribute">callbackData</span>":<span class="hljs-value"><span class="hljs-string">"DLR callback data"</span></span>,
         "<span class="hljs-attribute">validityPeriod</span>": <span class="hljs-value"><span class="hljs-number">720</span>
      </span>},
      {
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"41793026700"</span></span>,
         "<span class="hljs-attribute">destinations</span>":<span class="hljs-value">[
            {
               "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026785"</span>
            </span>}
         ]</span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire."</span></span>,
         "<span class="hljs-attribute">sendAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-07-07T17:00:00.000+01:00"</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/sms/1/text/advanced</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">request</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>BULK-ID-123-xyz<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>InfoSMS<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">destinations</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>MESSAGE-ID-123-xyz<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">destinations</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">destinations</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026731<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">destinations</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Artık Ulusal Dil Tanımlayıcısı ile Türkçe karakterli smslerinizi rahatlıkla iletebilirsiniz.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">flash</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">flash</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">language</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">languageCode</span>&gt;</span>TR<span class="hljs-tag">&lt;/<span class="hljs-title">languageCode</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">singleShift</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-title">singleShift</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">lockingShift</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">lockingShift</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">language</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">transliteration</span>&gt;</span>TURKISH<span class="hljs-tag">&lt;/<span class="hljs-title">transliteration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">notifyUrl</span>&gt;</span>http://www.example.com/sms/advanced<span class="hljs-tag">&lt;/<span class="hljs-title">notifyUrl</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">notifyContentType</span>&gt;</span>application/json<span class="hljs-tag">&lt;/<span class="hljs-title">notifyContentType</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">callbackData</span>&gt;</span>DLR callback data<span class="hljs-tag">&lt;/<span class="hljs-title">callbackData</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">validityPeriod</span>&gt;</span>720<span class="hljs-tag">&lt;/<span class="hljs-title">validityPeriod</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>41793026700<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">destinations</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026785<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">destinations</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">sendAt</span>&gt;</span>2015-07-07T17:00:00.000+01:00<span class="hljs-tag">&lt;/<span class="hljs-title">sendAt</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">request</span>&gt;</span></span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs fsharp">curl -X POST \
 -H 'Content-Type: application/json' \
 -H 'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==' \
 -d '{
   <span class="hljs-string">"bulkId"</span>:<span class="hljs-string">"BULK-ID-123-xyz"</span>,
   <span class="hljs-string">"messages"</span>:[
      {
         <span class="hljs-string">"from"</span>:<span class="hljs-string">"InfoSMS"</span>,
         <span class="hljs-string">"destinations"</span>:[
            {
               <span class="hljs-string">"to"</span>:<span class="hljs-string">"41793026727"</span>,
               <span class="hljs-string">"messageId"</span>:<span class="hljs-string">"MESSAGE-ID-123-xyz"</span>
            },
            {
               <span class="hljs-string">"to"</span>:<span class="hljs-string">"41793026731"</span>
            }
         ],
         <span class="hljs-string">"text"</span>:<span class="hljs-string">"Artık Ulusal Dil Tanımlayıcısı ile Türkçe karakterli smslerinizi rahatlıkla iletebilirsiniz."</span>,
         <span class="hljs-string">"flash"</span>:<span class="hljs-keyword">false</span>,
         <span class="hljs-string">"language"</span>:{
            <span class="hljs-string">"singleShift"</span>:<span class="hljs-keyword">true</span>,
            <span class="hljs-string">"lockingShift"</span>:<span class="hljs-keyword">false</span>,
            <span class="hljs-string">"languageCode"</span>:<span class="hljs-string">"TR"</span>
         },
         <span class="hljs-string">"transliteration"</span>: <span class="hljs-string">"TURKISH"</span>
         <span class="hljs-string">"notify"</span>:<span class="hljs-keyword">true</span>,
         <span class="hljs-string">"notifyUrl"</span>:<span class="hljs-string">"http://www.example.com/sms/advanced"</span>,
         <span class="hljs-string">"notifyContentType"</span>:<span class="hljs-string">"application/json"</span>,
         <span class="hljs-string">"callbackData"</span>:<span class="hljs-string">"DLR callback data"</span>,
         <span class="hljs-string">"validityPeriod"</span>: <span class="hljs-number">720</span>
      },
      {
         <span class="hljs-string">"from"</span>:<span class="hljs-string">"41793026700"</span>,
         <span class="hljs-string">"destinations"</span>:[
            {
               <span class="hljs-string">"to"</span>:<span class="hljs-string">"41793026785"</span>
            }
         ],
         <span class="hljs-string">"text"</span>:<span class="hljs-string">"A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire."</span>
      },
         <span class="hljs-string">"sendAt"</span>:<span class="hljs-string">"2015-07-07T17:00:00.000+01:00"</span>
   ]
}' http:<span class="hljs-comment">//api.shortlink.ma/restapi/sms/1/text/advanced</span></code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">&lt;?php

$<span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> HttpRequest();
$<span class="hljs-built_in">request</span>-&gt;setUrl(<span class="hljs-comment">'http://api.shortlink.ma/restapi/sms/1/text/advanced');</span>
$<span class="hljs-built_in">request</span>-&gt;setMethod(HTTP_METH_POST);

$<span class="hljs-built_in">request</span>-&gt;setHeaders(<span class="hljs-built_in">array</span>(
  <span class="hljs-comment">'accept' =&gt; 'application/json',</span>
  <span class="hljs-comment">'authorization' =&gt; 'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==',</span>
  <span class="hljs-comment">'content-type' =&gt; 'application/json'</span>
));

$<span class="hljs-built_in">request</span>-&gt;setBody(<span class="hljs-comment">'{</span>
   <span class="hljs-string">"bulkId"</span>:<span class="hljs-string">"BULK-ID-123-xyz"</span>,
   <span class="hljs-string">"messages"</span>:[
      {
         <span class="hljs-string">"from"</span>:<span class="hljs-string">"InfoSMS"</span>,
         <span class="hljs-string">"destinations"</span>:[
            {
               <span class="hljs-string">"to"</span>:<span class="hljs-string">"41793026727"</span>,
               <span class="hljs-string">"messageId"</span>:<span class="hljs-string">"MESSAGE-ID-123-xyz"</span>
            },
            {
               <span class="hljs-string">"to"</span>:<span class="hljs-string">"41793026731"</span>
            }
         ],
         <span class="hljs-string">"text"</span>:<span class="hljs-string">"Artık Ulusal Dil Tanımlayıcısı ile Türkçe karakterli smslerinizi rahatlıkla iletebilirsiniz."</span>,
         <span class="hljs-string">"flash"</span>:<span class="hljs-literal">false</span>,
         <span class="hljs-string">"language"</span>:{
            <span class="hljs-string">"languageCode"</span>:<span class="hljs-string">"TR"</span>,
            <span class="hljs-string">"singleShift"</span>:<span class="hljs-literal">true</span>,
            <span class="hljs-string">"lockingShift"</span>:<span class="hljs-literal">false</span>
         },
         <span class="hljs-string">"transliteration"</span>:<span class="hljs-string">"TURKISH"</span>,
         <span class="hljs-string">"notifyUrl"</span>:<span class="hljs-string">"http://www.example.com/sms/advanced"</span>,
         <span class="hljs-string">"notifyContentType"</span>:<span class="hljs-string">"application/json"</span>,
         <span class="hljs-string">"callbackData"</span>:<span class="hljs-string">"DLR callback data"</span>,
         <span class="hljs-string">"validityPeriod"</span>: <span class="hljs-number">720</span>
      },
      {
         <span class="hljs-string">"from"</span>:<span class="hljs-string">"41793026700"</span>,
         <span class="hljs-string">"destinations"</span>:[
            {
               <span class="hljs-string">"to"</span>:<span class="hljs-string">"41793026785"</span>
            }
         ],
         <span class="hljs-string">"text"</span>:<span class="hljs-string">"A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire."</span>,
         <span class="hljs-string">"sendAt"</span>:<span class="hljs-string">"2015-07-07T17:00:00.000+01:00"</span>
      }
   ]
}<span class="hljs-comment">');</span>

try {
  $<span class="hljs-built_in">response</span> = $<span class="hljs-built_in">request</span>-&gt;send();

  echo $<span class="hljs-built_in">response</span>-&gt;getBody();
} catch (HttpException $ex) {
  echo $ex;
}</code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs tex">require 'uri'
require 'net/http'

url = URI("http://api.shortlink.ma/restapi/sms/1/text/advanced")

http = Net::HTTP.new(url.host, url.port)
http.use_ssl = true
http.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Post.new(url)
request<span class="hljs-special">[</span>"content-type"<span class="hljs-special">]</span> = 'application/json'
request<span class="hljs-special">[</span>"authorization"<span class="hljs-special">]</span> = 'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='
request<span class="hljs-special">[</span>"accept"<span class="hljs-special">]</span> = 'application/json'

request.body = "<span class="hljs-special">{</span><span class="hljs-command">\"</span>bulkId<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>BULK-ID-123-xyz<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>messages<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>InfoSMS<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>destinations<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026727<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>messageId<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>MESSAGE-ID-123-xyz<span class="hljs-command">\"</span><span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026731<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>text<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>Artık Ulusal Dil Tanımlayıcısı ile Türkçe karakterli smslerinizi rahatlıkla iletebilirsiniz.<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>flash<span class="hljs-command">\"</span>:false, <span class="hljs-command">\"</span>language<span class="hljs-command">\"</span>:<span class="hljs-special">{</span><span class="hljs-command">\"</span>languageCode<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>TR<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>singleShift<span class="hljs-command">\"</span>:true, <span class="hljs-command">\"</span>lockingShift<span class="hljs-command">\"</span>:false<span class="hljs-special">}</span>, <span class="hljs-command">\"</span>transliteration<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>TURKISH<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>notifyUrl<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>http://www.example.com/sms/advanced<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>notifyContentType<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>application/json<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>callbackData<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>DLR callback data<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>validityPeriod<span class="hljs-command">\"</span>: 720<span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026700<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>destinations<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026785<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>text<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.<span class="hljs-command">\"</span>,<span class="hljs-command">\n</span>  <span class="hljs-command">\t</span><span class="hljs-command">\t</span><span class="hljs-command">\t</span> <span class="hljs-command">\"</span>sendAt<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>2015-07-07T17:00:00.000+01:00<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span><span class="hljs-special">}</span>"

response = http.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs tex">import http.client

conn = http.client.httpConnection("api.shortlink.ma")

payload = "<span class="hljs-special">{</span><span class="hljs-command">\"</span>bulkId<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>BULK-ID-123-xyz<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>messages<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>InfoSMS<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>destinations<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026727<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>messageId<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>MESSAGE-ID-123-xyz<span class="hljs-command">\"</span><span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026731<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>text<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>Artık Ulusal Dil Tanımlayıcısı ile Türkçe karakterli smslerinizi rahatlıkla iletebilirsiniz.<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>flash<span class="hljs-command">\"</span>:false, <span class="hljs-command">\"</span>language<span class="hljs-command">\"</span>:<span class="hljs-special">{</span><span class="hljs-command">\"</span>languageCode<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>TR<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>singleShift<span class="hljs-command">\"</span>:true, <span class="hljs-command">\"</span>lockingShift<span class="hljs-command">\"</span>:false<span class="hljs-special">}</span>, <span class="hljs-command">\"</span>transliteration<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>TURKISH<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>notifyUrl<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>http://www.example.com/sms/advanced<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>notifyContentType<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>application/json<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>callbackData<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>DLR callback data<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>validityPeriod<span class="hljs-command">\"</span>: 720<span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026700<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>destinations<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026785<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>text<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.<span class="hljs-command">\"</span>,<span class="hljs-command">\n</span>  <span class="hljs-command">\t</span><span class="hljs-command">\t</span><span class="hljs-command">\t</span> <span class="hljs-command">\"</span>sendAt<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>2015-07-07T17:00:00.000+01:00<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span><span class="hljs-special">}</span>"

headers = <span class="hljs-special">{</span>
    'content-type': "application/json",
    'authorization': "Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==",
    'accept': "application/json"
    <span class="hljs-special">}</span>

conn.request("POST", "/restapi/sms/1/text/advanced", payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode("utf-8"))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs tex">HttpResponse&lt;String&gt; response = Unirest.post("http://api.shortlink.ma/restapi/sms/1/text/advanced")
  .header("content-type", "application/json")
  .header("authorization", "Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==")
  .header("accept", "application/json")
  .body("<span class="hljs-special">{</span><span class="hljs-command">\"</span>bulkId<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>BULK-ID-123-xyz<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>messages<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>InfoSMS<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>destinations<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026727<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>messageId<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>MESSAGE-ID-123-xyz<span class="hljs-command">\"</span><span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026731<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>text<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>Artık Ulusal Dil Tanımlayıcısı ile Türkçe karakterli smslerinizi rahatlıkla iletebilirsiniz.<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>flash<span class="hljs-command">\"</span>:false, <span class="hljs-command">\"</span>language<span class="hljs-command">\"</span>:<span class="hljs-special">{</span><span class="hljs-command">\"</span>languageCode<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>TR<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>singleShift<span class="hljs-command">\"</span>:true, <span class="hljs-command">\"</span>lockingShift<span class="hljs-command">\"</span>:false<span class="hljs-special">}</span>, <span class="hljs-command">\"</span>transliteration<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>TURKISH<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>notifyUrl<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>http://www.example.com/sms/advanced<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>notifyContentType<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>application/json<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>callbackData<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>DLR callback data<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>validityPeriod<span class="hljs-command">\"</span>: 720<span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026700<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>destinations<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026785<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>text<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.<span class="hljs-command">\"</span>,<span class="hljs-command">\n</span>  <span class="hljs-command">\t</span><span class="hljs-command">\t</span><span class="hljs-command">\t</span> <span class="hljs-command">\"</span>sendAt<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>2015-07-07T17:00:00.000+01:00<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span><span class="hljs-special">}</span>")
  .asString();</code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs tex">var client = new RestClient("http://api.shortlink.ma/restapi/sms/1/text/advanced");
var request = new RestRequest(Method.POST);
request.AddHeader("accept", "application/json");
request.AddHeader("authorization", "Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==");
request.AddHeader("content-type", "application/json");
request.AddParameter("application/json", "<span class="hljs-special">{</span><span class="hljs-command">\"</span>bulkId<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>BULK-ID-123-xyz<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>messages<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>InfoSMS<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>destinations<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026727<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>messageId<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>MESSAGE-ID-123-xyz<span class="hljs-command">\"</span><span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026731<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>text<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>Artık Ulusal Dil Tanımlayıcısı ile Türkçe karakterli smslerinizi rahatlıkla iletebilirsiniz.<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>flash<span class="hljs-command">\"</span>:false, <span class="hljs-command">\"</span>language<span class="hljs-command">\"</span>:<span class="hljs-special">{</span><span class="hljs-command">\"</span>languageCode<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>TR<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>singleShift<span class="hljs-command">\"</span>:true, <span class="hljs-command">\"</span>lockingShift<span class="hljs-command">\"</span>:false<span class="hljs-special">}</span>, <span class="hljs-command">\"</span>transliteration<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>TURKISH<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>notifyUrl<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>http://www.example.com/sms/advanced<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>notifyContentType<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>application/json<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>callbackData<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>DLR callback data<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>validityPeriod<span class="hljs-command">\"</span>: 720<span class="hljs-special">}</span>, <span class="hljs-special">{</span><span class="hljs-command">\"</span>from<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026700<span class="hljs-command">\"</span>, <span class="hljs-command">\"</span>destinations<span class="hljs-command">\"</span>:<span class="hljs-special">[</span><span class="hljs-special">{</span><span class="hljs-command">\"</span>to<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>41793026785<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span>, <span class="hljs-command">\"</span>text<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.<span class="hljs-command">\"</span>,<span class="hljs-command">\n</span>  <span class="hljs-command">\t</span><span class="hljs-command">\t</span><span class="hljs-command">\t</span> <span class="hljs-command">\"</span>sendAt<span class="hljs-command">\"</span>:<span class="hljs-command">\"</span>2015-07-07T17:00:00.000+01:00<span class="hljs-command">\"</span><span class="hljs-special">}</span><span class="hljs-special">]</span><span class="hljs-special">}</span>", ParameterType.RequestBody);
IRestResponse response = client.Execute(request);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"bulkId"</span>: <span class="hljs-string">"BULK-ID-123-xyz"</span>,
  <span class="hljs-string">"messages"</span>: [
    {
      <span class="hljs-string">"from"</span>: <span class="hljs-string">"InfoSMS"</span>,
      <span class="hljs-string">"destinations"</span>: [
        {
          <span class="hljs-string">"to"</span>: <span class="hljs-string">"41793026727"</span>,
          <span class="hljs-string">"messageId"</span>: <span class="hljs-string">"MESSAGE-ID-123-xyz"</span>
        },
        {
          <span class="hljs-string">"to"</span>: <span class="hljs-string">"41793026731"</span>
        }
      ],
      <span class="hljs-string">"text"</span>: <span class="hljs-string">"Artık Ulusal Dil Tanımlayıcısı ile Türkçe karakterli smslerinizi rahatlıkla iletebilirsiniz."</span>,
      <span class="hljs-string">"flash"</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-string">"language"</span>: {
        <span class="hljs-string">"languageCode"</span>: <span class="hljs-string">"TR"</span>,
        <span class="hljs-string">"singleShift"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">"lockingShift"</span>: <span class="hljs-literal">false</span>
      },
      <span class="hljs-string">"transliteration"</span>: <span class="hljs-string">"TURKISH"</span>,
      <span class="hljs-string">"notifyUrl"</span>: <span class="hljs-string">"http://www.example.com/sms/advanced"</span>,
      <span class="hljs-string">"notifyContentType"</span>: <span class="hljs-string">"application/json"</span>,
      <span class="hljs-string">"callbackData"</span>: <span class="hljs-string">"DLR callback data"</span>,
      <span class="hljs-string">"validityPeriod"</span>: <span class="hljs-number">720</span>
    },
    {
      <span class="hljs-string">"from"</span>: <span class="hljs-string">"41793026700"</span>,
      <span class="hljs-string">"destinations"</span>: [
        {
          <span class="hljs-string">"to"</span>: <span class="hljs-string">"41793026785"</span>
        }
      ],
      <span class="hljs-string">"text"</span>: <span class="hljs-string">"A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire."</span>,
      <span class="hljs-string">"sendAt"</span>: <span class="hljs-string">"2015-07-07T17:00:00.000+01:00"</span>
    }
  ]
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/text/advanced"</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Result Format</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">bulkId</span>": <span class="hljs-value"><span class="hljs-string">"BULK-ID-123-xyz"</span></span>,
   "<span class="hljs-attribute">messages</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE-ID-123-xyz"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026731"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"9304a5a3ab19-1ca1-be74-76ad87651ed25f35"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026785"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"ACCEPTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"MESSAGE_ACCEPTED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message accepted"</span>
         </span>}</span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">2</span></span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5f35f87a2f19-a141-43a4-91cd81b85f8c689"</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">SendSMSResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>BULK-ID-123-xyz<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>MESSAGE-ID-123-xyz<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026731<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>9304a5a3ab19-1ca1-be74-76ad87651ed25f35<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">messages</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026785<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>MESSAGE_ACCEPTED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message accepted<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>5f35f87a2f19-a141-43a4-91cd81b85f8c689<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">messages</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">SendSMSResponse</span>&gt;</span></span></code></pre>



<h3 id="response-format-6">Response format</h3>

<p>If successful, response header HTTP status code will be <code>200 OK</code> and the message will be sent.</p>

<p>If you try to send the message without authorization, you will receive an <code>401 Unauthorized</code> error .</p>

<p><strong>SMSResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the request. Bulk ID will be received only when a message is sent to <a href="http://sms-api.github.io/RestSmsApi.html#multiple-textual-messages-to-multiple-destinations">more than one destination address</a>.</td>
</tr>
<tr>
  <td><em>messages</em></td>
  <td>SMSResponseDetails[]</td>
  <td>Array of sent message objects, one object per every message.</td>
</tr>
</tbody></table>


<p><strong>SMSResponseDetails</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The message destination address.</td>
</tr>
<tr>
  <td><em>status</em></td>
  <td>Status</td>
  <td>Indicates whether the message is  sent successfully, not sent, delivered, not delivered, waiting for delivery or any other possible status.</td>
</tr>
<tr>
  <td><em>smsCount</em></td>
  <td>int</td>
  <td>The number of sent message segments.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the sent message.</td>
</tr>
</tbody></table>


<p><strong>Status</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Status group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Status group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Status ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Status name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the status.</td>
</tr>
<tr>
  <td><em>action</em></td>
  <td>String</td>
  <td>Action that should be taken to eliminate the error.</td>
</tr>
</tbody></table>




<h2 id="get-account-balance">Get account balance</h2>

<p><em>This method allows you to get your account balance.</em></p>

<p><strong>Definition</strong></p>

<p><code>http://api.shortlink.ma/restapi/account/1/balance</code></p>

<p><strong>Examples</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/account/1/balance</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/account/1/balance</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET \
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> \
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span> \
</span>http://api.shortlink.ma/restapi/account/1/balance</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/account/1/balance'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/account/1/balance"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/account/1/balance"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/account/1/balance"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/account/1/balance"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/account/1/balance"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Result Format</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
  "<span class="hljs-attribute">balance</span>": <span class="hljs-value"><span class="hljs-number">47.79134</span></span>,
  "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"EUR"</span>
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">AccountBalance</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">balance</span>&gt;</span>47.79134<span class="hljs-tag">&lt;/<span class="hljs-title">balance</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">currency</span>&gt;</span>EUR<span class="hljs-tag">&lt;/<span class="hljs-title">currency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">AccountBalance</span>&gt;</span></span></code></pre>



<h3 id="response-format-7">Response format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code> and delivery reports will be returned in the response body.</p>

<p>If you try to send a message without authorization, you will get a response with HTTP status code <code>401 Unauthorized</code>.</p>

<p><strong>AccountBalance</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>balance</em></td>
  <td>Double</td>
  <td>Account balance.</td>
</tr>
<tr>
  <td><em>currency</em></td>
  <td>String</td>
  <td>The currency in which the account balance is expressed.</td>
</tr>
</tbody></table>


<hr>



<h1 id="receive-sms">Receive SMS</h1>



<h2 id="pull-received-messages">Pull received messages</h2>

<p><em>This method allows you to pull received messages one time.</em></p>

<p><strong>Definition</strong></p>

<p><code>http://api.shortlink.ma/restapi/sms/1/inbox/reports</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>limit</em></td>
  <td>Integer</td>
  <td>Maximum number of received messages that will be returned.</td>
</tr>
</tbody></table>




<h3 id="examples-7">Examples</h3>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/reports</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><strong>Result Format</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"ff4804ef-6ab6-4abd-984d-ab3b1387e823"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"38598111"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"KEY Test message"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"Test message"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"KEY"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-15T11:43:20.254+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>}
   ]
</span>}</code></pre>

<blockquote>
  <p><strong>Important:</strong></p>
  
  <p>In order to pull received messages, first you need a phone number and to <strong>setup a pull action</strong> on that number. Once you retrieve a received message, you will not be able to get the same message again by using this endpoint.</p>
</blockquote>



<h3 id="response-format-8">Response format</h3>

<p>If successful, response header HTTP status code will be <code>200 OK</code> and messages will be returned in the response body.</p>

<p>If you try to get received messages without authorization, you will get a response with HTTP status code <code>401 Unauthorized</code>.</p>

<p><strong>SMSResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>results</em></td>
  <td>Messages[]</td>
  <td>Collection of reports, one per every received message.</td>
</tr>
</tbody></table>


<p><strong>Messages</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the received message.</td>
</tr>
<tr>
  <td><em>from</em></td>
  <td>String</td>
  <td>Sender ID that can be alphanumeric or numeric.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The message destination address.</td>
</tr>
<tr>
  <td><em>text</em></td>
  <td>String</td>
  <td>Full text of the received message.</td>
</tr>
<tr>
  <td><em>cleanText</em></td>
  <td>String</td>
  <td>Text of received message without a keyword (if a keyword was sent).</td>
</tr>
<tr>
  <td><em>keyword</em></td>
  <td>String</td>
  <td>Keyword extracted from the message text.</td>
</tr>
<tr>
  <td><em>receivedAt</em></td>
  <td>Date</td>
  <td>Tells when the message was received on the  platform. Has the following format: <code>yyyy-MM-dd'T'HH:mm:ss.SSSXXX</code>.</td>
</tr>
<tr>
  <td><em>smsCount</em></td>
  <td>int</td>
  <td>The number of sent message segments.</td>
</tr>
</tbody></table>




<h3 id="additional-examples-6">Additional examples</h3>



<h4 id="getting-unread-received-messages-without-any-query-parameter">Getting unread received messages without any query parameter</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/reports</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/reports</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET \
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> \
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span> \
</span>http://api.shortlink.ma/restapi/sms/1/inbox/reports</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/inbox/reports'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/reports"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/inbox/reports"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/reports"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/reports"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/reports"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"ff4804ef-6ab6-4abd-984d-ab3b1387e823"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"38598111"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"KEY Test message"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"Test message"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"KEY"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-15T11:43:20.254+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">MOReportResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>ff4804ef-6ab6-4abd-984d-ab3b1387e823<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>38598111<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>KEY Test message<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">cleanText</span>&gt;</span>Test message<span class="hljs-tag">&lt;/<span class="hljs-title">cleanText</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">keyword</span>&gt;</span>KEY<span class="hljs-tag">&lt;/<span class="hljs-title">keyword</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">receivedAt</span>&gt;</span>2015-02-15T11:43:20.254+0100<span class="hljs-tag">&lt;/<span class="hljs-title">receivedAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">MOReportResponse</span>&gt;</span></span></code></pre>



<h4 id="getting-the-initial-two-unread-received-messages">Getting the initial two unread received messages</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/reports?limit=2</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/reports?limit=2</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET 
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> 
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span> 
</span>http://api.shortlink.ma/restapi/sms/1/inbox/reports?limit=2</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/inbox/reports'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setQueryData(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'limit'</span> =&gt; <span class="hljs-string">'2'</span>
));

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/reports?limit=2"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/inbox/reports?limit=2"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/reports?limit=2"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/reports?limit=2"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/reports?limit=2"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"df9839ab-6ab6-4abd-984d-ab3b7687e823"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"38598111"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"KEYWORD Test message"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"Test message"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"KEYWORD"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-15T12:23:10.418+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>},
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"ae4359fd-9ad6-4cdf-763d-ac1c5347d839"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"38598111"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Test message without keyword."</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"Test message without keyword."</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-02-15T12:21:07.311+0100"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">MOReportResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>df9839ab-6ab6-4abd-984d-ab3b7687e823<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>38598111<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>KEYWORD Test message<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">cleanText</span>&gt;</span>Test message<span class="hljs-tag">&lt;/<span class="hljs-title">cleanText</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">keyword</span>&gt;</span>KEYWORD<span class="hljs-tag">&lt;/<span class="hljs-title">keyword</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">receivedAt</span>&gt;</span>2015-02-15T12:23:10.418+0100<span class="hljs-tag">&lt;/<span class="hljs-title">receivedAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>ae4359fd-9ad6-4cdf-763d-ac1c5347d839<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>38598111<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Test message without keyword.<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">cleanText</span>&gt;</span>Test message without keyword.<span class="hljs-tag">&lt;/<span class="hljs-title">cleanText</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">keyword</span> /&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">receivedAt</span>&gt;</span>2015-02-15T12:21:07.311+0100<span class="hljs-tag">&lt;/<span class="hljs-title">receivedAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">MOReportResponse</span>&gt;</span></span></code></pre>



<h2 id="received-messages-logs">Received messages logs</h2>

<p><strong>Definition</strong></p>

<p><code>http://api.shortlink.ma/restapi/sms/1/inbox/logs</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>limit</em></td>
  <td>Integer</td>
  <td>Maximum number of messages in returned logs.</td>
</tr>
<tr>
  <td><em>keyword</em></td>
  <td>String</td>
  <td>Keyword used in received messages</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The message destination address.</td>
</tr>
<tr>
  <td><em>receivedSince</em></td>
  <td>DateFormat</td>
  <td>Lower limit on date and time of sending SMS.</td>
</tr>
<tr>
  <td><em>receivedUntil</em></td>
  <td>DateFormat</td>
  <td>Upper limit on date and time of sending SMS.</td>
</tr>
</tbody></table>




<h3 id="examples-8">Examples</h3>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/logs</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><strong>Result Format</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5908971644001839114"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-03-01T12:54:44.560+0000"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"385998779111"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"HEY hello world"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"hello world"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"HEY"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>},
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5904932597450690569"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-03-01T12:54:42.231+0000"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"385998779111"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"HEY how are you"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"how are you"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"HEY"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>},
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5904217701796992008"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-03-01T12:54:40.111+0000"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"385998779111"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"KEY hello world"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"hello world"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"KEY"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>}
   ]
</span>}</code></pre>



<h3 id="response-format-9">Response format</h3>

<p>If successful, response header HTTP status code will be <code>200 OK</code> and the message logs will be returned.</p>

<p>If you try to send message without authorization, you will get a response with HTTP status code <code>401 Unauthorized</code>.</p>

<p><strong>LogsResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>results</em></td>
  <td>MOLog[]</td>
  <td>Collection of logs.</td>
</tr>
</tbody></table>


<p><strong>MOLog</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the received message.</td>
</tr>
<tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The message destination address.</td>
</tr>
<tr>
  <td><em>receivedAt</em></td>
  <td>Date</td>
  <td>Tells when the SMS was received. Has the following format: <code>yyyy-MM-dd'T'HH:mm:ss.SSSZ</code>.</td>
</tr>
<tr>
  <td><em>from</em></td>
  <td>String</td>
  <td>Sender ID that can be alphanumeric or numeric.</td>
</tr>
<tr>
  <td><em>text</em></td>
  <td>String</td>
  <td>Text of the message that was sent.</td>
</tr>
<tr>
  <td><em>cleanText</em></td>
  <td>String</td>
  <td>Text of the message that was sent without the keyword.</td>
</tr>
<tr>
  <td><em>keyword</em></td>
  <td>String</td>
  <td>Keyword extracted from the message text.</td>
</tr>
<tr>
  <td><em>smsCount</em></td>
  <td>int</td>
  <td>The number of sent message segments.</td>
</tr>
</tbody></table>




<h3 id="additional-examples-7">Additional examples</h3>



<h4 id="getting-logs-without-any-query-parameter-1">Getting logs without any query parameter</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/logs</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/logs</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET \
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> \
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> \
</span>http://api.shortlink.ma/restapi/sms/1/inbox/logs</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/inbox/logs'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/inbox/logs"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5908971644001839114"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-03-01T12:54:44.560+0000"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"385998779111"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"HEY hello world"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"hello world"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"HEY"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>},
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5904932597450690569"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-03-01T12:54:42.231+0000"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"385998779111"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"HEY how are you"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"how are you"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"HEY"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>},
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5904217701796992008"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-03-01T12:54:40.111+0000"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"385998779111"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"KEY hello world"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"hello world"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"KEY"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">MOLogsResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>5908971644001839114<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>13372<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">receivedAt</span>&gt;</span>2015-03-01T12:54:44.560+0000<span class="hljs-tag">&lt;/<span class="hljs-title">receivedAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>385998779613<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>HEY hello world<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">cleanText</span>&gt;</span>hello world<span class="hljs-tag">&lt;/<span class="hljs-title">cleanText</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">keyword</span>&gt;</span>HEY<span class="hljs-tag">&lt;/<span class="hljs-title">keyword</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>5904932597450690569<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>13372<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">receivedAt</span>&gt;</span>2015-03-01T12:54:42.231+0000<span class="hljs-tag">&lt;/<span class="hljs-title">receivedAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>385998779613<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>HEY how are you<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">cleanText</span>&gt;</span>how are you<span class="hljs-tag">&lt;/<span class="hljs-title">cleanText</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">keyword</span>&gt;</span>HEY<span class="hljs-tag">&lt;/<span class="hljs-title">keyword</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>5904217701796992008<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>13372<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">receivedAt</span>&gt;</span>2015-03-01T12:54:40.111+0000<span class="hljs-tag">&lt;/<span class="hljs-title">receivedAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>385998779613<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>KEY hello world<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">cleanText</span>&gt;</span>hello world<span class="hljs-tag">&lt;/<span class="hljs-title">cleanText</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">keyword</span>&gt;</span>KEY<span class="hljs-tag">&lt;/<span class="hljs-title">keyword</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">MOLogsResponse</span>&gt;</span></span></code></pre>



<h4 id="getting-logs-with-keyword-and-to-as-filters">Getting logs with <code>keyword</code> and <code>to</code> as filters</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/logs?keyword=HEY&amp;to=13372</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/logs?keyword=HEY&amp;to=13372</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET 
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> 
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> 
</span>http://api.shortlink.ma/restapi/sms/1/inbox/logs?keyword=HEY&amp;to=13372</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/inbox/logs'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setQueryData(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'keyword'</span> =&gt; <span class="hljs-string">'HEY'</span>,
  <span class="hljs-string">'to'</span> =&gt; <span class="hljs-string">'13372'</span>
));

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs?keyword=HEY&amp;to=13372"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/inbox/logs?keyword=HEY&amp;to=13372"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs?keyword=HEY&amp;to=13372"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs?keyword=HEY&amp;to=13372"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs?keyword=HEY&amp;to=13372"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5908971644001839114"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-03-01T12:54:44.560+0000"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"385998779111"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"HEY hello world"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"hello world"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"HEY"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>},
      {  
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"5904932597450690569"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-03-01T12:54:42.231+0000"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"385998779111"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"HEY how are you"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"how are you"</span></span>,
         "<span class="hljs-attribute">keyword</span>":<span class="hljs-value"><span class="hljs-string">"HEY"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">MOLogsResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>5908971644001839114<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>13372<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">receivedAt</span>&gt;</span>2015-03-01T12:54:44.560+0000<span class="hljs-tag">&lt;/<span class="hljs-title">receivedAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>385998779613<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>HEY hello world<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">cleanText</span>&gt;</span>hello world<span class="hljs-tag">&lt;/<span class="hljs-title">cleanText</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">keyword</span>&gt;</span>HEY<span class="hljs-tag">&lt;/<span class="hljs-title">keyword</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>5904932597450690569<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>13372<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">receivedAt</span>&gt;</span>2015-03-01T12:54:42.231+0000<span class="hljs-tag">&lt;/<span class="hljs-title">receivedAt</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>385998779613<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>HEY how are you<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">cleanText</span>&gt;</span>how are you<span class="hljs-tag">&lt;/<span class="hljs-title">cleanText</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">keyword</span>&gt;</span>HEY<span class="hljs-tag">&lt;/<span class="hljs-title">keyword</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">MOLogsResponse</span>&gt;</span></span></code></pre>



<h4 id="getting-messages-without-keyword">Getting messages without keyword</h4>

<p>In order to get all messages that were sent without keyword, you can use <code>NO_KEYWORD</code> filter.</p>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/logs?keyword=NO_KEYWORD</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/restapi/sms/1/inbox/logs?keyword=NO_KEYWORD</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X GET 
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> 
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span> 
</span>http://api.shortlink.ma/restapi/sms/1/inbox/logs?keyword=NO_KEYWORD</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/sms/1/inbox/logs'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_GET);

<span class="hljs-variable">$request</span>-&gt;setQueryData(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'keyword'</span> =&gt; <span class="hljs-string">'NO_KEYWORD'</span>
));

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs?keyword=NO_KEYWORD"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Get.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/restapi/sms/1/inbox/logs?keyword=NO_KEYWORD"</span>, headers=headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.get</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs?keyword=NO_KEYWORD"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs?keyword=NO_KEYWORD"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.<span class="hljs-keyword">GET</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/sms/1/inbox/logs?keyword=NO_KEYWORD"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[
      {
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"606386740726357762"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"385998779111"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Message without keyword"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"Message without keyword"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-05-20T10:06:46.880+0000"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>},
      {
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"3634590217319761028"</span></span>,
         "<span class="hljs-attribute">from</span>":<span class="hljs-value"><span class="hljs-string">"385998779111"</span></span>,
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">text</span>":<span class="hljs-value"><span class="hljs-string">"Logs test"</span></span>,
         "<span class="hljs-attribute">cleanText</span>":<span class="hljs-value"><span class="hljs-string">"Logs test"</span></span>,
         "<span class="hljs-attribute">receivedAt</span>":<span class="hljs-value"><span class="hljs-string">"2015-05-20T10:06:17.713+0000"</span></span>,
         "<span class="hljs-attribute">smsCount</span>":<span class="hljs-value"><span class="hljs-number">1</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">MOLogsResponse</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>606386740726357762<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>385998779111<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Message without keyword<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">cleanText</span>&gt;</span>Message without keyword<span class="hljs-tag">&lt;/<span class="hljs-title">cleanText</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">receivedAt</span>&gt;</span>2015-05-20T10:06:46.880+0000<span class="hljs-tag">&lt;/<span class="hljs-title">receivedAt</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>3634590217319761028<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">from</span>&gt;</span>385998779111<span class="hljs-tag">&lt;/<span class="hljs-title">from</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">text</span>&gt;</span>Logs test<span class="hljs-tag">&lt;/<span class="hljs-title">text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">cleanText</span>&gt;</span>Logs test<span class="hljs-tag">&lt;/<span class="hljs-title">cleanText</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">receivedAt</span>&gt;</span>2015-05-20T10:06:17.713+0000<span class="hljs-tag">&lt;/<span class="hljs-title">receivedAt</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">smsCount</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">smsCount</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">results</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">MOLogsResponse</span>&gt;</span></span></code></pre>

<hr>



<h1 id="number-context-1">Number Context</h1>



<h2 id="synchronous-request">Synchronous request</h2>

<p><em>This method gives you the ability to make a synchronous Number Context request over HTTP. Number Context response is returned immediately thus eliminating the need for the call back server.</em></p>

<p><strong>Definition</strong></p>

<p><code>http://api.shortlink.ma/restapi/number/1/query</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>to</em></td>
  <td>String[]</td>
  <td><strong>Required.</strong> Array of Number Context destination addresses. If the Number Context lookup is requested for one phone number, a single String is supported instead of an Array. Destination addresses must be in international format (Example: <code>41793026727</code>).</td>
</tr>
</tbody></table>




<h3 id="examples-9">Examples</h3>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/query</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">to</span>":<span class="hljs-value">[<span class="hljs-string">"41793026727"</span>]
</span>}</span></code></pre>

<p><strong>Result Format</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">mccMnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">originalNetwork</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">networkPrefix</span>":<span class="hljs-value"><span class="hljs-string">"79"</span></span>,
            "<span class="hljs-attribute">countryPrefix</span>":<span class="hljs-value"><span class="hljs-string">"41"</span>
         </span>}</span>,
         "<span class="hljs-attribute">ported</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">roaming</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">2</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">9</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE_NOT_DELIVERED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent not delivered"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"HANDSET_ERRORS"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">27</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"EC_ABSENT_SUBSCRIBER"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Absent Subscriber"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</code></pre>



<h3 id="response-format-10">Response format</h3>

<p>If successful, response header HTTP status code will be <code>200 OK</code> and include Number Context information in response body.</p>

<p>If you try to send a Number Context lookup without authorization, you will get a response with HTTP status code <code>401 Unauthorized</code>.</p>

<p><strong>NCResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><ul>
bulkId*
</ul></td>
  <td>String</td>
  <td>The ID that uniquely identifies the request. Bulk ID will be received only when you send a <a href="http://sms-api.github.io/RestSmsApi.html#number-context-lookup-multiple-phone-numbers">Number Context lookup to more than one destination address</a>.</td>
</tr>
<tr>
  <td><em>results</em></td>
  <td>NCResponseDetails[]</td>
  <td>Array of Number Context lookup results, one per every phone number.</td>
</tr>
</tbody></table>


<p><strong>NCResponseDetails</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The Number Context destination address.</td>
</tr>
<tr>
  <td><em>mccMnc</em></td>
  <td>String</td>
  <td>Mobile country code and mobile network code concatenated. MccMnc will start with the MCC, and it will always have three digits, followed by the MNC (length of the MNC depends on the value of the MCC, and it can be two or three).</td>
</tr>
<tr>
  <td><em>imsi</em></td>
  <td>String</td>
  <td>International Mobile Subscriber Identity, used to uniquely identify the user of a mobile network.</td>
</tr>
<tr>
  <td><em>originalNetwork</em></td>
  <td>Network</td>
  <td>Information about the original network.</td>
</tr>
<tr>
  <td><em>ported</em></td>
  <td>Boolean</td>
  <td>Tells if the phone number is ported.</td>
</tr>
<tr>
  <td><em>portedNetwork</em></td>
  <td>Network</td>
  <td>Information about the ported network.</td>
</tr>
<tr>
  <td><em>roaming</em></td>
  <td>Boolean</td>
  <td>Informs if the phone number is in roaming.</td>
</tr>
<tr>
  <td><em>roamingNetwork</em></td>
  <td>Network</td>
  <td>Information about the roaming network.</td>
</tr>
<tr>
  <td><em>servingMSC</em></td>
  <td>String</td>
  <td>Serving mobile switching center.</td>
</tr>
<tr>
  <td><em>status</em></td>
  <td>Status</td>
  <td>Indicates whether the Number Context query was successfully executed, not executed or any other possible status.</td>
</tr>
<tr>
  <td><em>error</em></td>
  <td>Error</td>
  <td>Indicates whether the error occurred during the query execution.</td>
</tr>
</tbody></table>


<p><strong>Network</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>networkName</em></td>
  <td>String</td>
  <td>Network name.</td>
</tr>
<tr>
  <td><em>networkPrefix</em></td>
  <td>String</td>
  <td>Network prefix.</td>
</tr>
<tr>
  <td><em>countryName</em></td>
  <td>String</td>
  <td>Country name.</td>
</tr>
<tr>
  <td><em>countryPrefix</em></td>
  <td>String</td>
  <td>Country prefix.</td>
</tr>
</tbody></table>


<p><strong>Status</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Status group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Status group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Status ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Status name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the status.</td>
</tr>
<tr>
  <td><em>action</em></td>
  <td>String</td>
  <td>Action that should be taken to eliminate the error.</td>
</tr>
</tbody></table>


<p><strong>Error</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Error group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Error group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Error ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Error name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the error.</td>
</tr>
<tr>
  <td><em>permanent</em></td>
  <td>boolean</td>
  <td>Tells if the error is permanent.</td>
</tr>
</tbody></table>




<h3 id="additional-examples-8">Additional examples</h3>



<h4 id="number-context-lookup-single-phone-number">Number Context lookup - Single phone number</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/query</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">to</span>":<span class="hljs-value">[<span class="hljs-string">"41793026727"</span>]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/query</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic dXNlcm5hbWU6cGFzc3dvcmQ=</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">request</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">request</span>&gt;</span>  </span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X POST \
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Content-Type: application/json"</span> \
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> \
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Authorization: Basic dXNlcm5hbWU6cGFzc3dvcmQ="</span> \
</span>-<span class="ruby">d <span class="hljs-string">'{  
</span></span>   "to":["41793026727"]
}' http://api.shortlink.ma/restapi/number/1/query</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/number/1/query'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_POST);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'content-type'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-variable">$request</span>-&gt;setBody(<span class="hljs-string">'{  
   "to":["41793026727"]
}'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">require <span class="hljs-comment">'uri'</span>
require <span class="hljs-comment">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/query"</span>)

http = Net::HTTP.<span class="hljs-keyword">new</span>(url.host, url.port)
http.use_ssl = <span class="hljs-literal">true</span>
http.verify_mode = OpenSSL::SSL::VERIFY_NONE

<span class="hljs-built_in">request</span> = Net::HTTP::Post.<span class="hljs-keyword">new</span>(url)
<span class="hljs-built_in">request</span>[<span class="hljs-string">"authorization"</span>] = <span class="hljs-comment">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"accept"</span>] = <span class="hljs-comment">'application/json'</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"content-type"</span>] = <span class="hljs-comment">'application/json'</span>

<span class="hljs-built_in">request</span>.body = <span class="hljs-string">"{\"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">"]}"</span>

<span class="hljs-built_in">response</span> = http.<span class="hljs-built_in">request</span>(<span class="hljs-built_in">request</span>)
puts <span class="hljs-built_in">response</span>.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver">import <span class="hljs-keyword">http</span>.client

conn = <span class="hljs-keyword">http</span>.client.httpConnection(<span class="hljs-string">"api.shortlink.ma"</span>)

payload = <span class="hljs-string">"{\"to\":[\"41793026727\"]}"</span>

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-string">"application/json"</span>,
    <span class="hljs-string">'content-type'</span>: <span class="hljs-string">"application/json"</span>
    }

conn.request(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"/restapi/number/1/query"</span>, payload, headers)

res = conn.getresponse()
data = res.<span class="hljs-built_in">read</span>()

print(data.decode(<span class="hljs-string">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.post</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/query"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.body</span>(<span class="hljs-string">"{\"to\":[\"41793026727\"]}"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/query"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.POST);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
<span class="hljs-built_in">request</span>.AddParameter(<span class="hljs-string">"application/json"</span>, <span class="hljs-string">"{\"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">"]}"</span>, ParameterType.RequestBody);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"to"</span>: [
    <span class="hljs-string">"41793026727"</span>
  ]
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/query"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">mccMnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">originalNetwork</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">networkPrefix</span>":<span class="hljs-value"><span class="hljs-string">"79"</span></span>,
            "<span class="hljs-attribute">countryPrefix</span>":<span class="hljs-value"><span class="hljs-string">"41"</span>
         </span>}</span>,
         "<span class="hljs-attribute">ported</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">roaming</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">2</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">9</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE_NOT_DELIVERED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent not delivered"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"HANDSET_ERRORS"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">27</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"EC_ABSENT_SUBSCRIBER"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Absent Subscriber"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">response</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">mccMnc</span>&gt;</span>22801<span class="hljs-tag">&lt;/<span class="hljs-title">mccMnc</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">originalNetwork</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">networkPrefix</span>&gt;</span>79<span class="hljs-tag">&lt;/<span class="hljs-title">networkPrefix</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">countryPrefix</span>&gt;</span>41<span class="hljs-tag">&lt;/<span class="hljs-title">countryPrefix</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">originalNetwork</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">ported</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">ported</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">roaming</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">roaming</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>UNDELIVERABLE<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>UNDELIVERABLE_NOT_DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message sent not delivered<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>HANDSET_ERRORS<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>27<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>EC_ABSENT_SUBSCRIBER<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Absent Subscriber<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">NCResponse</span>&gt;</span></span></code></pre>



<h4 id="number-context-lookup-multiple-phone-numbers">Number Context lookup - Multiple phone numbers</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/query</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">to</span>":<span class="hljs-value">[  
      <span class="hljs-string">"41793026727"</span>,
      <span class="hljs-string">"3859851212"</span>
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/query</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">request</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>3859851212<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">request</span>&gt;</span></span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X POST 
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Content-Type: application/json"</span> 
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> 
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ="</span> 
</span>-<span class="ruby">d <span class="hljs-string">'{  
</span></span>   "to":[  
      "41793026727",
      "3859851212"
   ]
}' http://api.shortlink.ma/restapi/number/1/query</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/number/1/query'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_POST);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'content-type'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-variable">$request</span>-&gt;setBody(<span class="hljs-string">'{  
   "to":[  
      "41793026727",
      "3859851212"
   ]
}'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">require <span class="hljs-comment">'uri'</span>
require <span class="hljs-comment">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/query"</span>)

http = Net::HTTP.<span class="hljs-keyword">new</span>(url.host, url.port)
http.use_ssl = <span class="hljs-literal">true</span>
http.verify_mode = OpenSSL::SSL::VERIFY_NONE

<span class="hljs-built_in">request</span> = Net::HTTP::Post.<span class="hljs-keyword">new</span>(url)
<span class="hljs-built_in">request</span>[<span class="hljs-string">"authorization"</span>] = <span class="hljs-comment">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"accept"</span>] = <span class="hljs-comment">'application/json'</span>
<span class="hljs-built_in">request</span>[<span class="hljs-string">"content-type"</span>] = <span class="hljs-comment">'application/json'</span>

<span class="hljs-built_in">request</span>.body = <span class="hljs-string">"{\"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-number">3859851212</span>\<span class="hljs-string">"]}"</span>

<span class="hljs-built_in">response</span> = http.<span class="hljs-built_in">request</span>(<span class="hljs-built_in">request</span>)
puts <span class="hljs-built_in">response</span>.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk">import http.client

conn = http.client.httpConnection(<span class="hljs-comment">"api.shortlink.ma"</span>)

payload = <span class="hljs-comment">"{\"</span>to\<span class="hljs-comment">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">", \"</span><span class="hljs-number">3859851212</span>\<span class="hljs-comment">"]}"</span>

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-comment">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-comment">"application/json"</span>,
    <span class="hljs-string">'content-type'</span>: <span class="hljs-comment">"application/json"</span>
    }

conn.request(<span class="hljs-comment">"POST"</span>, <span class="hljs-comment">"/restapi/number/1/query"</span>, payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode(<span class="hljs-comment">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">HttpResponse&lt;String&gt; response = Unirest<span class="hljs-preprocessor">.post</span>(<span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/query"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.header</span>(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>)
  <span class="hljs-preprocessor">.body</span>(<span class="hljs-string">"{\"to\":[\"41793026727\", \"3859851212\"]}"</span>)
  <span class="hljs-preprocessor">.asString</span>()<span class="hljs-comment">;</span></code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs vbscript">var client = <span class="hljs-keyword">new</span> RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/query"</span>);

var <span class="hljs-built_in">request</span> = <span class="hljs-keyword">new</span> RestRequest(Method.POST);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
<span class="hljs-built_in">request</span>.AddHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
<span class="hljs-built_in">request</span>.AddParameter(<span class="hljs-string">"application/json"</span>, <span class="hljs-string">"{\"</span><span class="hljs-keyword">to</span>\<span class="hljs-string">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-string">", \"</span><span class="hljs-number">3859851212</span>\<span class="hljs-string">"]}"</span>, ParameterType.RequestBody);

IRestResponse <span class="hljs-built_in">response</span> = client.<span class="hljs-keyword">Execute</span>(<span class="hljs-built_in">request</span>);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"to"</span>: [
    <span class="hljs-string">"41793026727"</span>,
    <span class="hljs-string">"3859851212"</span>
  ]
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/query"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"f5c4322c-10e7-a41e-5528-34fat43er4134"</span></span>,
   "<span class="hljs-attribute">results</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"3859851212"</span></span>,
         "<span class="hljs-attribute">mccMnc</span>":<span class="hljs-value"><span class="hljs-string">"21901"</span></span>,
         "<span class="hljs-attribute">originalNetwork</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">networkPrefix</span>":<span class="hljs-value"><span class="hljs-string">"98"</span></span>,
            "<span class="hljs-attribute">countryPrefix</span>":<span class="hljs-value"><span class="hljs-string">"385"</span>
         </span>}</span>,
         "<span class="hljs-attribute">ported</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">roaming</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">2</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">9</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE_NOT_DELIVERED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent not delivered"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"HANDSET_ERRORS"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"EC_UNKNOWN_SUBSCRIBER"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Unknown Subscriber"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">true</span>
         </span>}
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">mccMnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">originalNetwork</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">networkPrefix</span>":<span class="hljs-value"><span class="hljs-string">"79"</span></span>,
            "<span class="hljs-attribute">countryPrefix</span>":<span class="hljs-value"><span class="hljs-string">"41"</span>
         </span>}</span>,
         "<span class="hljs-attribute">ported</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">roaming</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">2</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">9</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE_NOT_DELIVERED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent not delivered"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"HANDSET_ERRORS"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">27</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"EC_ABSENT_SUBSCRIBER"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Absent Subscriber"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">NCResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">bulkId</span>&gt;</span>f5c4322c-10e7-a41e-5528-34fat43er4134<span class="hljs-tag">&lt;/<span class="hljs-title">bulkId</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">results</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">mccMnc</span>&gt;</span>22801<span class="hljs-tag">&lt;/<span class="hljs-title">mccMnc</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">originalNetwork</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">networkPrefix</span>&gt;</span>79<span class="hljs-tag">&lt;/<span class="hljs-title">networkPrefix</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">countryPrefix</span>&gt;</span>41<span class="hljs-tag">&lt;/<span class="hljs-title">countryPrefix</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">originalNetwork</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">ported</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">ported</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">roaming</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">roaming</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>UNDELIVERABLE<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>UNDELIVERABLE_NOT_DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message sent not delivered<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>HANDSET_ERRORS<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>27<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>EC_ABSENT_SUBSCRIBER<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Absent Subscriber<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>3859851212<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">mccMnc</span>&gt;</span>21901<span class="hljs-tag">&lt;/<span class="hljs-title">mccMnc</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">originalNetwork</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">networkPrefix</span>&gt;</span>98<span class="hljs-tag">&lt;/<span class="hljs-title">networkPrefix</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">countryPrefix</span>&gt;</span>385<span class="hljs-tag">&lt;/<span class="hljs-title">countryPrefix</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">originalNetwork</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">ported</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">ported</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">roaming</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">roaming</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>UNDELIVERABLE<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>UNDELIVERABLE_NOT_DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message sent not delivered<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>HANDSET_ERRORS<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>EC_UNKNOWN_SUBSCRIBER<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Unknown Subscriber<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">NCResponse</span>&gt;</span></span></code></pre>



<h2 id="asynchronous-request">Asynchronous request</h2>

<p><em>This method gives you the ability to make a asynchronous Number Context request over HTTP. Number Context response is sent to a notify URL at your call back server.</em></p>

<p><strong>Definition</strong></p>

<p><code>http://api.shortlink.ma/restapi/number/1/notify</code></p>

<p><strong>Parameters</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>to</em></td>
  <td>String[]</td>
  <td><strong>Required.</strong> Array of Number Context destination addresses. If the Number Context lookup is requested for one phone number, a single String is supported instead of an Array. Destination addresses must be in international format (Example: <code>41793026727</code>).</td>
</tr>
<tr>
  <td><em>notifyUrl</em></td>
  <td>String</td>
  <td>The URL on your call back server on which the Number Context response will be sent.</td>
</tr>
<tr>
  <td><em>notifyContentType</em></td>
  <td>String</td>
  <td>Preferred content type of the response. Could be <code>application/json</code> or <code>application/xml</code>.</td>
</tr>
</tbody></table>




<h3 id="examples-10">Examples</h3>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/notify</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">to</span>":<span class="hljs-value">[  
      <span class="hljs-string">"41793026727"</span>
   ]</span>,
   "<span class="hljs-attribute">notifyUrl</span>":<span class="hljs-value"><span class="hljs-string">"http://example.com/notifyUrl"</span></span>,
   "<span class="hljs-attribute">notifyContentType</span>":<span class="hljs-value"><span class="hljs-string">"application/json"</span>
</span>}</span></code></pre>

<p><strong>Result Format</strong></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">ncResults</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"PENDING"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"PENDING_WAITING_DELIVERY"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent, waiting for delivery report"</span>
         </span>}</span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"2b691c32-1233-4716-a763-4f70cc929eae"</span>
      </span>}
   ]
</span>}</code></pre>



<h3 id="response-format-11">Response format</h3>

<p>If successful, response header HTTP status code will be <code>200 OK</code> and include Number Context information in the response body.</p>

<p>If you try to send a Number Context lookup without authorization, you will get a response with HTTP status code <code>401 Unauthorized</code>.</p>

<p><strong>NCResponse</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>bulkId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the request. Bulk ID will be received only when you send a <a href="http://sms-api.github.io/RestSmsApi.html#number-context-lookup-multiple-phone-numbers">Number Context lookup to more than one destination address</a>.</td>
</tr>
<tr>
  <td><em>ncResults</em></td>
  <td>NCResponseDetails[]</td>
  <td>Array of Number Context lookup results, one per every phone number.</td>
</tr>
</tbody></table>


<p><strong>NCResponseDetails</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>to</em></td>
  <td>String</td>
  <td>The Number Context destination address.</td>
</tr>
<tr>
  <td><em>status</em></td>
  <td>Status</td>
  <td>Indicates whether the Number Context query was successfully executed, not executed or any other possible status.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>The ID that uniquely identifies the performed lookup on destination address.</td>
</tr>
</tbody></table>


<p><strong>Status</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Status group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Status group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Status ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Status name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the status.</td>
</tr>
<tr>
  <td><em>action</em></td>
  <td>String</td>
  <td>Action that should be taken to eliminate the error.</td>
</tr>
</tbody></table>


<p><strong>Error</strong></p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>groupId</em></td>
  <td>int</td>
  <td>Error group ID.</td>
</tr>
<tr>
  <td><em>groupName</em></td>
  <td>String</td>
  <td>Error group name.</td>
</tr>
<tr>
  <td><em>id</em></td>
  <td>int</td>
  <td>Error ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>Error name.</td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>Human readable description of the error.</td>
</tr>
<tr>
  <td><em>permanent</em></td>
  <td>boolean</td>
  <td>Tells if the error is permanent.</td>
</tr>
</tbody></table>


<blockquote>
  <p><strong>Note:</strong></p>
  
  <p>The result you will receive on your notify URL will be the same as the response in Synchronous Number Context lookup.</p>
</blockquote>

<p><strong>The result format you will receive on notify URL:</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs json">{  
   "<span class="hljs-attribute">ncResults</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">mccMnc</span>":<span class="hljs-value"><span class="hljs-string">"22801"</span></span>,
         "<span class="hljs-attribute">originalNetwork</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">networkPrefix</span>":<span class="hljs-value"><span class="hljs-string">"79"</span></span>,
            "<span class="hljs-attribute">countryPrefix</span>":<span class="hljs-value"><span class="hljs-string">"41"</span>
         </span>}</span>,
         "<span class="hljs-attribute">ported</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">roaming</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">2</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">9</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"UNDELIVERABLE_NOT_DELIVERED"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent not delivered"</span>
         </span>}</span>,
         "<span class="hljs-attribute">error</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"HANDSET_ERRORS"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">27</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"EC_ABSENT_SUBSCRIBER"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Absent Subscriber"</span></span>,
            "<span class="hljs-attribute">permanent</span>":<span class="hljs-value"><span class="hljs-literal">false</span>
         </span>}
      </span>}
   ]
</span>}</code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="hljs-tag">&lt;<span class="hljs-title">NCResponse</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">mccMnc</span>&gt;</span>22801<span class="hljs-tag">&lt;/<span class="hljs-title">mccMnc</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">originalNetwork</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">networkPrefix</span>&gt;</span>79<span class="hljs-tag">&lt;/<span class="hljs-title">networkPrefix</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">countryPrefix</span>&gt;</span>41<span class="hljs-tag">&lt;/<span class="hljs-title">countryPrefix</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">originalNetwork</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">ported</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">ported</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">roaming</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">roaming</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>UNDELIVERABLE<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>9<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>UNDELIVERABLE_NOT_DELIVERED<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message sent not delivered<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">error</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>HANDSET_ERRORS<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>27<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>EC_ABSENT_SUBSCRIBER<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Absent Subscriber<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">permanent</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">permanent</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">error</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">NCResponse</span>&gt;</span></code></pre>



<h3 id="additional-examples-9">Additional examples</h3>



<h4 id="number-context-lookup-single-phone-number-1">Number Context lookup - Single phone number</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/notify</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">to</span>":<span class="hljs-value">[  
      <span class="hljs-string">"41793026727"</span>
   ]</span>,
   "<span class="hljs-attribute">notifyUrl</span>":<span class="hljs-value"><span class="hljs-string">"http://example.com/notifyUrl"</span></span>,
   "<span class="hljs-attribute">notifyContentType</span>":<span class="hljs-value"><span class="hljs-string">"application/json"</span>
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/notify</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">request</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">notifyUrl</span>&gt;</span>http://example.com/notifyUrl<span class="hljs-tag">&lt;/<span class="hljs-title">notifyUrl</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">notifyContentType</span>&gt;</span>application/xml<span class="hljs-tag">&lt;/<span class="hljs-title">notifyContentType</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">request</span>&gt;</span> </span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs haml">curl -X POST \
-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Content-Type: application/json"</span> \
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">'Accept: application/json'</span> \
</span>-<span class="ruby"><span class="hljs-constant">H</span> <span class="hljs-string">"Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ="</span> \
</span>-<span class="ruby">d <span class="hljs-string">'{  
</span></span>   "to":[  
      "41793026727"
   ],
   "notifyUrl":"http://example.com/notifyUrl",
   "notifyContentType":"application/json"
}' http://api.shortlink.ma/restapi/number/1/notify</code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/number/1/notify'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_POST);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'content-type'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-variable">$request</span>-&gt;setBody(<span class="hljs-string">'{  
   "to":[  
      "41793026727"
   ],
   "notifyUrl":"http://example.com/notifyUrl",
   "notifyContentType":"application/json"
}'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs livecodeserver"><span class="hljs-built_in">require</span> <span class="hljs-string">'uri'</span>
<span class="hljs-built_in">require</span> <span class="hljs-string">'net/http'</span>

url = URI(<span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/notify"</span>)

<span class="hljs-keyword">http</span> = Net::HTTP.<span class="hljs-built_in">new</span>(url.host, url.port)
<span class="hljs-keyword">http</span>.use_ssl = <span class="hljs-constant">true</span>
<span class="hljs-keyword">http</span>.verify_mode = OpenSSL::SSL::VERIFY_NONE

request = Net::HTTP::Post.<span class="hljs-built_in">new</span>(url)
request[<span class="hljs-string">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-string">"accept"</span>] = <span class="hljs-string">'application/json'</span>
request[<span class="hljs-string">"content-type"</span>] = <span class="hljs-string">'application/json'</span>

request.body = <span class="hljs-string">"{\"to\":[\"41793026727\"], \"notifyUrl\":\"http://example.com/notifyUrl\", \"notifyContentType\":\"application/json\"}"</span>

response = <span class="hljs-keyword">http</span>.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk">import http.client

conn = http.client.httpConnection(<span class="hljs-comment">"api.shortlink.ma"</span>)

payload = <span class="hljs-comment">"{\"</span>to\<span class="hljs-comment">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">"], \"</span>notifyUrl\<span class="hljs-comment">":\"</span><span class="hljs-method">http:</span>//example.com/notifyUrl\<span class="hljs-comment">", \"</span>notifyContentType\<span class="hljs-comment">":\"</span>application/json\<span class="hljs-comment">"}"</span>

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-comment">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-comment">"application/json"</span>,
    <span class="hljs-string">'content-type'</span>: <span class="hljs-comment">"application/json"</span>
    }

conn.request(<span class="hljs-comment">"POST"</span>, <span class="hljs-comment">"/restapi/number/1/notify"</span>, payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode(<span class="hljs-comment">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk"><span class="hljs-class">HttpResponse</span>&lt;<span class="hljs-class">String</span>&gt; response = <span class="hljs-class">Unirest</span>.post(<span class="hljs-comment">"http://api.shortlink.ma/restapi/number/1/notify"</span>)
  .header(<span class="hljs-comment">"authorization"</span>, <span class="hljs-comment">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  .header(<span class="hljs-comment">"accept"</span>, <span class="hljs-comment">"application/json"</span>)
  .header(<span class="hljs-comment">"content-type"</span>, <span class="hljs-comment">"application/json"</span>)
  .body(<span class="hljs-comment">"{\"</span>to\<span class="hljs-comment">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">"], \"</span>notifyUrl\<span class="hljs-comment">":\"</span><span class="hljs-method">http:</span>//example.com/notifyUrl\<span class="hljs-comment">", \"</span>notifyContentType\<span class="hljs-comment">":\"</span>application/json\<span class="hljs-comment">"}"</span>)
  .asString();</code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs avrasm">var client = new RestClient(<span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/notify"</span>)<span class="hljs-comment">;</span>

var request = new RestRequest(Method<span class="hljs-preprocessor">.POST</span>)<span class="hljs-comment">;</span>
request<span class="hljs-preprocessor">.AddHeader</span>(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>)<span class="hljs-comment">;</span>
request<span class="hljs-preprocessor">.AddHeader</span>(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)<span class="hljs-comment">;</span>
request<span class="hljs-preprocessor">.AddHeader</span>(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)<span class="hljs-comment">;</span>
request<span class="hljs-preprocessor">.AddParameter</span>(<span class="hljs-string">"application/json"</span>, <span class="hljs-string">"{\"to\":[\"41793026727\"], \"notifyUrl\":\"http://example.com/notifyUrl\", \"notifyContentType\":\"application/json\"}"</span>, ParameterType<span class="hljs-preprocessor">.RequestBody</span>)<span class="hljs-comment">;</span>

IRestResponse response = client<span class="hljs-preprocessor">.Execute</span>(request)<span class="hljs-comment">;</span></code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"to"</span>: [
    <span class="hljs-string">"41793026727"</span>
  ],
  <span class="hljs-string">"notifyUrl"</span>: <span class="hljs-string">"http://example.com/notifyUrl"</span>,
  <span class="hljs-string">"notifyContentType"</span>: <span class="hljs-string">"application/json"</span>
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/notify"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">ncResults</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"PENDING"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"PENDING_WAITING_DELIVERY"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent, waiting for delivery report"</span>
         </span>}</span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"2b691c32-1233-4716-a763-4f70cc929eae"</span>
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">NCResponseAsync</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>PENDING<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>PENDING_WAITING_DELIVERY<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message sent, waiting for delivery report<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>2b691c32-1233-4716-a763-4f70cc929eae<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">NCResponseAsync</span>&gt;</span></span></code></pre>



<h4 id="number-context-lookup-multiple-phone-numbers-1">Number Context lookup - Multiple phone numbers</h4>

<p><strong>Request</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/notify</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">to</span>":<span class="hljs-value">[  
      <span class="hljs-string">"41793026727"</span>,
      <span class="hljs-string">"12345678"</span>,
      <span class="hljs-string">"Alphanumeric"</span>
   ]</span>,
   "<span class="hljs-attribute">notifyUrl</span>":<span class="hljs-value"><span class="hljs-string">"http://example.com/notifyUrl"</span></span>,
   "<span class="hljs-attribute">notifyContentType</span>":<span class="hljs-value"><span class="hljs-string">"application/json"</span>
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/restapi/number/1/notify</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">api.shortlink.ma</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>
<span class="hljs-attribute">Accept</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">request</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>12345678<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>Alphanumeric<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">notifyUrl</span>&gt;</span>http://example.com/notifyUrl<span class="hljs-tag">&lt;/<span class="hljs-title">notifyUrl</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">notifyContentType</span>&gt;</span>application/xml<span class="hljs-tag">&lt;/<span class="hljs-title">notifyContentType</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">request</span>&gt;</span></span></code></pre>

<p><em>cURL</em></p>



<pre class="prettyprint"><code class=" hljs scilab">curl -X POST 
-H <span class="hljs-string">"Content-Type: application/json"</span> 
-H <span class="hljs-string">'Accept: application/json'</span> 
-H <span class="hljs-string">"Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ="</span> 
-d <span class="hljs-string">'{  
   "</span>to<span class="hljs-string">":[  
      "</span><span class="hljs-number">41793026727</span><span class="hljs-string">",
      "</span><span class="hljs-number">12345678</span><span class="hljs-string">",
      "</span>Alphanumeric<span class="hljs-string">"
   ],
   "</span>notifyUrl<span class="hljs-string">":"</span>http:<span class="hljs-comment">//example.com/notifyUrl",</span>
   <span class="hljs-string">"notifyContentType"</span>:<span class="hljs-string">"application/json"</span>
}<span class="hljs-string">' http://api.shortlink.ma/restapi/number/1/notify</span></code></pre>

<p><em>PHP</em></p>



<pre class="prettyprint"><code class=" hljs xml"><span class="php"><span class="hljs-preprocessor">&lt;?php</span>

<span class="hljs-variable">$request</span> = <span class="hljs-keyword">new</span> HttpRequest();
<span class="hljs-variable">$request</span>-&gt;setUrl(<span class="hljs-string">'http://api.shortlink.ma/restapi/number/1/notify'</span>);
<span class="hljs-variable">$request</span>-&gt;setMethod(HTTP_METH_POST);

<span class="hljs-variable">$request</span>-&gt;setHeaders(<span class="hljs-keyword">array</span>(
  <span class="hljs-string">'content-type'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'accept'</span> =&gt; <span class="hljs-string">'application/json'</span>,
  <span class="hljs-string">'authorization'</span> =&gt; <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
));

<span class="hljs-variable">$request</span>-&gt;setBody(<span class="hljs-string">'{  
   "to":[  
      "41793026727",
      "12345678",
      "Alphanumeric"
   ],
   "notifyUrl":"http://example.com/notifyUrl",
   "notifyContentType":"application/json"
}'</span>);

<span class="hljs-keyword">try</span> {
  <span class="hljs-variable">$response</span> = <span class="hljs-variable">$request</span>-&gt;send();

  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$response</span>-&gt;getBody();
} <span class="hljs-keyword">catch</span> (HttpException <span class="hljs-variable">$ex</span>) {
  <span class="hljs-keyword">echo</span> <span class="hljs-variable">$ex</span>;
}</span></code></pre>

<p><em>Ruby</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk">require <span class="hljs-string">'uri'</span>
require <span class="hljs-string">'net/http'</span>

url = <span class="hljs-class">URI</span>(<span class="hljs-comment">"http://api.shortlink.ma/restapi/number/1/notify"</span>)

http = <span class="hljs-class">Net</span>::<span class="hljs-class">HTTP</span>.new(url.host, url.port)
http.use_ssl = <span class="hljs-keyword">true</span>
http.verify_mode = <span class="hljs-class">OpenSSL</span>::<span class="hljs-class">SSL</span>::<span class="hljs-class">VERIFY_NONE</span>

request = <span class="hljs-class">Net</span>::<span class="hljs-class">HTTP</span>::<span class="hljs-class">Post</span>.new(url)
request[<span class="hljs-comment">"authorization"</span>] = <span class="hljs-string">'Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='</span>
request[<span class="hljs-comment">"accept"</span>] = <span class="hljs-string">'application/json'</span>
request[<span class="hljs-comment">"content-type"</span>] = <span class="hljs-string">'application/json'</span>

request.body = <span class="hljs-comment">"{\"</span>to\<span class="hljs-comment">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">", \"</span><span class="hljs-number">12345678</span>\<span class="hljs-comment">", \"</span><span class="hljs-class">Alphanumeric</span>\<span class="hljs-comment">"], \"</span>notifyUrl\<span class="hljs-comment">":\"</span><span class="hljs-method">http:</span>//example.com/notifyUrl\<span class="hljs-comment">", \"</span>notifyContentType\<span class="hljs-comment">":\"</span>application/json\<span class="hljs-comment">"}"</span>

response = http.request(request)
puts response.read_body</code></pre>

<p><em>Python</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk">import http.client

conn = http.client.httpConnection(<span class="hljs-comment">"api.shortlink.ma"</span>)

payload = <span class="hljs-comment">"{\"</span>to\<span class="hljs-comment">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">", \"</span><span class="hljs-number">12345678</span>\<span class="hljs-comment">", \"</span><span class="hljs-class">Alphanumeric</span>\<span class="hljs-comment">"], \"</span>notifyUrl\<span class="hljs-comment">":\"</span><span class="hljs-method">http:</span>//example.com/notifyUrl\<span class="hljs-comment">", \"</span>notifyContentType\<span class="hljs-comment">":\"</span>application/json\<span class="hljs-comment">"}"</span>

headers = {
    <span class="hljs-string">'authorization'</span>: <span class="hljs-comment">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>,
    <span class="hljs-string">'accept'</span>: <span class="hljs-comment">"application/json"</span>,
    <span class="hljs-string">'content-type'</span>: <span class="hljs-comment">"application/json"</span>
    }

conn.request(<span class="hljs-comment">"POST"</span>, <span class="hljs-comment">"/restapi/number/1/notify"</span>, payload, headers)

res = conn.getresponse()
data = res.read()

print(data.decode(<span class="hljs-comment">"utf-8"</span>))</code></pre>

<p><em>Java</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk"><span class="hljs-class">HttpResponse</span>&lt;<span class="hljs-class">String</span>&gt; response = <span class="hljs-class">Unirest</span>.post(<span class="hljs-comment">"http://api.shortlink.ma/restapi/number/1/notify"</span>)
  .header(<span class="hljs-comment">"authorization"</span>, <span class="hljs-comment">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>)
  .header(<span class="hljs-comment">"accept"</span>, <span class="hljs-comment">"application/json"</span>)
  .header(<span class="hljs-comment">"content-type"</span>, <span class="hljs-comment">"application/json"</span>)
  .body(<span class="hljs-comment">"{\"</span>to\<span class="hljs-comment">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">", \"</span><span class="hljs-number">12345678</span>\<span class="hljs-comment">", \"</span><span class="hljs-class">Alphanumeric</span>\<span class="hljs-comment">"], \"</span>notifyUrl\<span class="hljs-comment">":\"</span><span class="hljs-method">http:</span>//example.com/notifyUrl\<span class="hljs-comment">", \"</span>notifyContentType\<span class="hljs-comment">":\"</span>application/json\<span class="hljs-comment">"}"</span>)
  .asString();</code></pre>

<p><em>C#</em></p>



<pre class="prettyprint"><code class=" hljs smalltalk">var client = new <span class="hljs-class">RestClient</span>(<span class="hljs-comment">"http://api.shortlink.ma/restapi/number/1/notify"</span>);

var request = new <span class="hljs-class">RestRequest</span>(<span class="hljs-class">Method</span>.<span class="hljs-class">POST</span>);
request.<span class="hljs-class">AddHeader</span>(<span class="hljs-comment">"content-type"</span>, <span class="hljs-comment">"application/json"</span>);
request.<span class="hljs-class">AddHeader</span>(<span class="hljs-comment">"accept"</span>, <span class="hljs-comment">"application/json"</span>);
request.<span class="hljs-class">AddHeader</span>(<span class="hljs-comment">"authorization"</span>, <span class="hljs-comment">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
request.<span class="hljs-class">AddParameter</span>(<span class="hljs-comment">"application/json"</span>, <span class="hljs-comment">"{\"</span>to\<span class="hljs-comment">":[\"</span><span class="hljs-number">41793026727</span>\<span class="hljs-comment">", \"</span><span class="hljs-number">12345678</span>\<span class="hljs-comment">", \"</span><span class="hljs-class">Alphanumeric</span>\<span class="hljs-comment">"], \"</span>notifyUrl\<span class="hljs-comment">":\"</span><span class="hljs-method">http:</span>//example.com/notifyUrl\<span class="hljs-comment">", \"</span>notifyContentType\<span class="hljs-comment">":\"</span>application/json\<span class="hljs-comment">"}"</span>, <span class="hljs-class">ParameterType</span>.<span class="hljs-class">RequestBody</span>);

<span class="hljs-class">IRestResponse</span> response = client.<span class="hljs-class">Execute</span>(request);</code></pre>

<p><em>JavaScript</em></p>



<pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.stringify({
  <span class="hljs-string">"to"</span>: [
    <span class="hljs-string">"41793026727"</span>,
    <span class="hljs-string">"12345678"</span>,
    <span class="hljs-string">"Alphanumeric"</span>
  ],
  <span class="hljs-string">"notifyUrl"</span>: <span class="hljs-string">"http://example.com/notifyUrl"</span>,
  <span class="hljs-string">"notifyContentType"</span>: <span class="hljs-string">"application/json"</span>
});

<span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.addEventListener(<span class="hljs-string">"readystatechange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState === <span class="hljs-keyword">this</span>.DONE) {
    console.log(<span class="hljs-keyword">this</span>.responseText);
  }
});

xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://api.shortlink.ma/restapi/number/1/notify"</span>);
xhr.setRequestHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span>);
xhr.setRequestHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>);
xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);

xhr.send(data);</code></pre>

<p><strong>Response</strong></p>

<p><em>JSON</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{  
   "<span class="hljs-attribute">bulkId</span>":<span class="hljs-value"><span class="hljs-string">"f5c4322c-10e7-a41e-5528-34fa0b032134"</span></span>,
   "<span class="hljs-attribute">ncResults</span>":<span class="hljs-value">[  
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">1</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"PENDING"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">7</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"PENDING_ENROUTE"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Message sent to next instance"</span>
         </span>}</span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"c2598a78-ba88-423f-8ac3-5dac4af816cf"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"12345678"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"REJECTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">14</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"REJECTED_DESTINATION"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"By Destination"</span></span>,
            "<span class="hljs-attribute">action</span>":<span class="hljs-value"><span class="hljs-string">"Remove destination from blacklist"</span>
         </span>}</span>,
         "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"a70437bc-872c-5462-837a-4ede899af3bf"</span>
      </span>},
      {  
         "<span class="hljs-attribute">to</span>":<span class="hljs-value"><span class="hljs-string">"Alphanumeric"</span></span>,
         "<span class="hljs-attribute">status</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">groupId</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">groupName</span>":<span class="hljs-value"><span class="hljs-string">"REJECTED"</span></span>,
            "<span class="hljs-attribute">id</span>":<span class="hljs-value"><span class="hljs-number">52</span></span>,
            "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"REJECTED_DESTINATION"</span></span>,
            "<span class="hljs-attribute">description</span>":<span class="hljs-value"><span class="hljs-string">"Invalid destination address."</span></span>,
            "<span class="hljs-attribute">action</span>":<span class="hljs-value"><span class="hljs-string">"Check to parameter."</span>
         </span>}
      </span>}
   ]
</span>}</span></code></pre>

<p><em>XML</em></p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-status">HTTP/1.1 <span class="hljs-number">200</span> OK</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/xml</span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">NCResponseAsync</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>41793026727<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>Pending<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>PENDING_WAITING_DELIVERY<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Message sent, waiting for delivery report<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>c2598a78-ba88-423f-8ac3-5dac4af816cf<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>12345678<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>REJECTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>14<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>REJECTED_DESTINATION<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>By Destination<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">action</span>&gt;</span>Remove destination from blacklist<span class="hljs-tag">&lt;/<span class="hljs-title">action</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">messageId</span>&gt;</span>a70437bc-872c-5462-837a-4ede899af3bf<span class="hljs-tag">&lt;/<span class="hljs-title">messageId</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">ncResults</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">to</span>&gt;</span>Alphanumeric<span class="hljs-tag">&lt;/<span class="hljs-title">to</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-title">status</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">groupName</span>&gt;</span>REJECTED<span class="hljs-tag">&lt;/<span class="hljs-title">groupName</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>52<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>REJECTED_DESTINATION<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Invalid destination address.<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">action</span>&gt;</span>Check to parameter.<span class="hljs-tag">&lt;/<span class="hljs-title">action</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-title">status</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">ncResults</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">NCResponseAsync</span>&gt;</span></span></code></pre></div>

</body></html>